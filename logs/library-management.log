2025-05-12 20:07:09 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-12 20:07:09 INFO  c.g.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.7 with PID 7637 (/Users/bahajyy/Desktop/getir_final_project/target/classes started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:07:09 INFO  c.g.l.LibraryManagementSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-12 20:07:09 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-12 20:07:09 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-12 20:07:11 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:07:11 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 244 ms. Found 3 JPA repository interfaces.
2025-05-12 20:07:12 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-12 20:07:12 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-12 20:07:12 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-12 20:07:12 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-12 20:07:12 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-12 20:07:12 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2439 ms
2025-05-12 20:07:12 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:07:12 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-12 20:07:12 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:07:13 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:07:13 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-12 20:07:13 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@578bc43c
2025-05-12 20:07:13 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-12 20:07:15 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:07:15 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:07:15 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-12 20:07:16 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:07:17 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4ff34d42, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@178f7e21, org.springframework.security.web.context.SecurityContextHolderFilter@2cbedbd2, org.springframework.security.web.header.HeaderWriterFilter@1df5ef14, org.springframework.web.filter.CorsFilter@28471e57, org.springframework.security.web.authentication.logout.LogoutFilter@6eb1b474, com.getir.library_management_system.security.JwtAuthenticationFilter@b9f5a19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b4b975d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1aea8ba1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54eace5b, org.springframework.security.web.access.ExceptionTranslationFilter@52826961, org.springframework.security.web.access.intercept.AuthorizationFilter@58100683]
2025-05-12 20:07:17 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-12 20:07:17 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-12 20:07:17 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-05-12 20:07:17 INFO  c.g.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 8.8 seconds (process running for 9.467)
2025-05-12 20:14:08 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-12 20:14:08 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-12 20:14:08 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 21 ms
2025-05-12 20:14:10 INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 556 ms
2025-05-12 20:16:37 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-05-12T14:09:43Z. Current time: 2025-05-12T17:16:37Z, a difference of 11214445 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at com.getir.library_management_system.security.JwtUtil.getUsernameFromJwtToken(JwtUtil.java:41)
	at com.getir.library_management_system.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:39)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-12 20:17:34 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:17:34 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-12 20:17:34 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-12 20:18:01 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-12 20:18:01 INFO  c.g.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.7 with PID 8128 (/Users/bahajyy/Desktop/getir_final_project/target/classes started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:18:01 INFO  c.g.l.LibraryManagementSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-12 20:18:01 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-12 20:18:01 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-12 20:18:02 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:18:03 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 270 ms. Found 3 JPA repository interfaces.
2025-05-12 20:18:03 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-12 20:18:03 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-12 20:18:03 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-12 20:18:03 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-12 20:18:03 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-12 20:18:03 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2665 ms
2025-05-12 20:18:04 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:18:04 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-12 20:18:04 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:18:04 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:18:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-12 20:18:05 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1bad88f7
2025-05-12 20:18:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-12 20:18:06 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:18:06 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:18:07 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-12 20:18:08 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:18:09 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@678b9f6f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@386980fa, org.springframework.security.web.context.SecurityContextHolderFilter@554b6e53, org.springframework.security.web.header.HeaderWriterFilter@7643a48f, org.springframework.web.filter.CorsFilter@5caa9e72, org.springframework.security.web.authentication.logout.LogoutFilter@7d2693e, com.getir.library_management_system.security.JwtAuthenticationFilter@5ce3b699, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3284a4cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72cbba26, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@141de9d8, org.springframework.security.web.access.ExceptionTranslationFilter@4570129b, org.springframework.security.web.access.intercept.AuthorizationFilter@204fee5a]
2025-05-12 20:18:09 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-12 20:18:09 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-12 20:18:09 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-05-12 20:18:09 INFO  c.g.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 9.462 seconds (process running for 10.11)
2025-05-12 20:18:11 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-12 20:18:11 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-12 20:18:11 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-05-12 20:19:04 INFO  c.g.l.controller.AuthController - Login attempt for email: admin@getir.com
2025-05-12 20:19:05 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: admin@getir.com
2025-05-12 20:19:05 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: admin@getir.com
2025-05-12 20:19:05 INFO  c.g.l.controller.AuthController - Authentication successful for email: admin@getir.com
2025-05-12 20:19:16 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: admin@getir.com
2025-05-12 20:19:16 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: admin@getir.com
2025-05-12 20:19:17 INFO  c.g.l.controller.BookController - Updating book with ID: 4
2025-05-12 20:19:17 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 4
2025-05-12 20:19:17 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 4
2025-05-12 20:29:23 INFO  c.g.l.controller.AuthController - Login attempt for email: admin@getir.com
2025-05-12 20:29:23 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: admin@getir.com
2025-05-12 20:29:24 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: admin@getir.com
2025-05-12 20:29:24 INFO  c.g.l.controller.AuthController - Authentication successful for email: admin@getir.com
2025-05-12 20:35:03 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: admin@getir.com
2025-05-12 20:35:03 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: admin@getir.com
2025-05-12 20:35:03 INFO  c.g.l.controller.BookController - Updating book with ID: 4
2025-05-12 20:35:03 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 4
2025-05-12 20:35:03 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.getir.library_management_system.exception.BusinessException: ISBN cannot be changed.]
2025-05-12 20:35:11 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: admin@getir.com
2025-05-12 20:35:11 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: admin@getir.com
2025-05-12 20:35:11 INFO  c.g.l.controller.BookController - Updating book with ID: 4
2025-05-12 20:35:11 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 4
2025-05-12 20:35:11 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 4
2025-05-12 20:35:37 INFO  c.g.l.controller.AuthController - Login attempt for email: baha@getir.com
2025-05-12 20:35:37 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: baha@getir.com
2025-05-12 20:35:37 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: baha@getir.com
2025-05-12 20:35:37 INFO  c.g.l.controller.AuthController - Authentication successful for email: baha@getir.com
2025-05-12 20:36:05 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: baha@getir.com
2025-05-12 20:36:05 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: baha@getir.com
2025-05-12 20:36:05 INFO  c.g.l.controller.BorrowingController - User 3 is attempting to borrow book with ID 5
2025-05-12 20:36:05 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 3 is attempting to borrow book 5
2025-05-12 20:36:05 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.getir.library_management_system.exception.BusinessException: User has overdue books and cannot borrow new ones.]
2025-05-12 20:36:22 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: baha@getir.com
2025-05-12 20:36:22 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: baha@getir.com
2025-05-12 20:36:22 INFO  c.g.l.controller.BorrowingController - User 4 is attempting to borrow book with ID 5
2025-05-12 20:36:22 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 4 is attempting to borrow book 5
2025-05-12 20:36:22 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.getir.library_management_system.exception.BusinessException: You have already borrowed this book.]
2025-05-12 20:36:29 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: baha@getir.com
2025-05-12 20:36:29 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: baha@getir.com
2025-05-12 20:36:29 INFO  c.g.l.controller.BorrowingController - User 4 is attempting to borrow book with ID 2
2025-05-12 20:36:29 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 4 is attempting to borrow book 2
2025-05-12 20:36:30 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 2 marked as unavailable
2025-05-12 20:36:30 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing created with ID: 2
2025-05-12 20:36:30 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=2, title=To Kill a Mockingbird, stock=1)
2025-05-12 20:36:30 INFO  c.g.l.controller.BorrowingController - Book borrowed successfully with borrowing ID 2
2025-05-12 20:39:12 INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 17 class path changes (0 additions, 17 deletions, 0 modifications)
2025-05-12 20:39:12 INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-05-12 20:39:13 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:39:13 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-12 20:39:13 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-12 20:39:13 INFO  c.g.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.7 with PID 8128 (/Users/bahajyy/Desktop/getir_final_project/target/classes started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:39:13 INFO  c.g.l.LibraryManagementSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-12 20:39:14 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:39:14 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-05-12 20:39:14 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-12 20:39:14 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-12 20:39:14 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-12 20:39:14 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-12 20:39:14 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-12 20:39:14 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 965 ms
2025-05-12 20:39:14 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:39:14 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:39:14 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:39:14 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-05-12 20:39:14 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@32be0eb0
2025-05-12 20:39:14 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-05-12 20:39:15 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:39:15 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:39:15 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:39:15 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@29d80dc6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a73f03f, org.springframework.security.web.context.SecurityContextHolderFilter@5ed05fd0, org.springframework.security.web.header.HeaderWriterFilter@54656b47, org.springframework.web.filter.CorsFilter@4dbf3c89, org.springframework.security.web.csrf.CsrfFilter@5f84d990, org.springframework.security.web.authentication.logout.LogoutFilter@41a5ac08, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@18c2d6c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@71013d93, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@b04ab83, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5a6393de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@27e155c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e41504f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@625b2118, org.springframework.security.web.access.ExceptionTranslationFilter@7bca5868, org.springframework.security.web.access.intercept.AuthorizationFilter@6d25092c]
2025-05-12 20:39:16 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-12 20:39:16 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-12 20:39:16 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-05-12 20:39:16 INFO  c.g.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 2.362 seconds (process running for 1276.143)
2025-05-12 20:39:16 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   SpringBootWebSecurityConfiguration.SecurityFilterChainConfiguration matched:
      - AllNestedConditions 2 matched 0 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) did not find any beans; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-05-12 20:39:17 INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 17 class path changes (17 additions, 0 deletions, 0 modifications)
2025-05-12 20:39:17 INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-05-12 20:39:17 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:39:17 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-05-12 20:39:17 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-05-12 20:39:17 INFO  c.g.l.LibraryManagementSystemApplication - Starting LibraryManagementSystemApplication using Java 21.0.7 with PID 8128 (/Users/bahajyy/Desktop/getir_final_project/target/classes started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:39:17 INFO  c.g.l.LibraryManagementSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-12 20:39:18 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:39:18 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 3 JPA repository interfaces.
2025-05-12 20:39:18 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-12 20:39:18 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-05-12 20:39:18 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-12 20:39:18 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-12 20:39:18 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-12 20:39:18 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 821 ms
2025-05-12 20:39:18 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:39:18 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:39:18 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:39:18 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-05-12 20:39:18 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@e6a3ec6
2025-05-12 20:39:18 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-05-12 20:39:18 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:39:19 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:39:19 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:39:20 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@67a9acf9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b150e6a, org.springframework.security.web.context.SecurityContextHolderFilter@6b0ab53a, org.springframework.security.web.header.HeaderWriterFilter@190f8a5d, org.springframework.web.filter.CorsFilter@10c55f21, org.springframework.security.web.authentication.logout.LogoutFilter@253de78, com.getir.library_management_system.security.JwtAuthenticationFilter@2b400095, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73664c32, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59f63baf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8a1c49e, org.springframework.security.web.access.ExceptionTranslationFilter@14a7d3b2, org.springframework.security.web.access.intercept.AuthorizationFilter@2b566552]
2025-05-12 20:39:20 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-05-12 20:39:20 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-05-12 20:39:20 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-05-12 20:39:20 INFO  c.g.l.LibraryManagementSystemApplication - Started LibraryManagementSystemApplication in 2.934 seconds (process running for 1280.615)
2025-05-12 20:39:20 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   SpringBootWebSecurityConfiguration.SecurityFilterChainConfiguration:
      Did not match:
         - AllNestedConditions 1 matched 1 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) found beans of type 'org.springframework.security.web.SecurityFilterChain' filterChain; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-05-12 20:39:30 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-12 20:39:30 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 8586 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:39:30 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-12 20:39:33 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:39:34 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 565 ms. Found 3 JPA repository interfaces.
2025-05-12 20:39:35 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:39:36 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-12 20:39:36 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:39:36 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:39:36 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-12 20:39:38 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1d564adc
2025-05-12 20:39:38 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-12 20:39:44 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:39:45 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:39:47 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-12 20:39:51 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:39:53 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b8500bb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@723b2631, org.springframework.security.web.context.SecurityContextHolderFilter@21f980df, org.springframework.security.web.header.HeaderWriterFilter@50ec1e1a, org.springframework.web.filter.CorsFilter@670a8073, org.springframework.security.web.authentication.logout.LogoutFilter@55c007ee, com.getir.library_management_system.security.JwtAuthenticationFilter@2e81ec9a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f3a08f3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@178ec5e6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53a88141, org.springframework.security.web.access.ExceptionTranslationFilter@7db882db, org.springframework.security.web.access.intercept.AuthorizationFilter@37844409]
2025-05-12 20:39:55 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:39:55 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:39:55 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 3 ms
2025-05-12 20:39:56 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 27.419 seconds (process running for 37.813)
2025-05-12 20:39:57 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 20:39:57 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 20:39:57 WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2025-05-12 20:39:57 ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "books_pkey"
  Detail: Key (id)=(1) already exists.
2025-05-12 20:39:57 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:39:57 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-12 20:39:57 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-12 20:39:58 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:39:58 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 8586 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:39:58 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-12 20:39:58 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:39:59 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 3 JPA repository interfaces.
2025-05-12 20:39:59 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:39:59 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:39:59 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:39:59 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-05-12 20:39:59 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@6a43190d
2025-05-12 20:39:59 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-05-12 20:39:59 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:39:59 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:40:00 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:40:00 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e6de27f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c83eab4, org.springframework.security.web.context.SecurityContextHolderFilter@73da7891, org.springframework.security.web.header.HeaderWriterFilter@fda38d9, org.springframework.web.filter.CorsFilter@1d199a38, org.springframework.security.web.authentication.logout.LogoutFilter@2512f9c7, com.getir.library_management_system.security.JwtAuthenticationFilter@3e1498e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4dc1f9b8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5beef047, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3529f17b, org.springframework.security.web.access.ExceptionTranslationFilter@72c97e, org.springframework.security.web.access.intercept.AuthorizationFilter@4b1c6080]
2025-05-12 20:40:01 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:40:01 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:40:01 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-12 20:40:01 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 3.284 seconds (process running for 42.866)
2025-05-12 20:40:01 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 20:40:01 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 20:40:01 WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2025-05-12 20:40:01 ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "books_pkey"
  Detail: Key (id)=(2) already exists.
2025-05-12 20:40:01 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:40:01 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-05-12 20:40:01 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-05-12 20:40:01 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:40:01 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 8586 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:40:01 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-12 20:40:02 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:40:02 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-05-12 20:40:02 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:40:02 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:40:02 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:40:02 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-05-12 20:40:02 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@1fad289a
2025-05-12 20:40:02 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-05-12 20:40:03 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:40:03 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:40:03 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:40:04 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2104a939, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1db0aaee, org.springframework.security.web.context.SecurityContextHolderFilter@65b66c50, org.springframework.security.web.header.HeaderWriterFilter@5ba4b34d, org.springframework.web.filter.CorsFilter@3cf04791, org.springframework.security.web.authentication.logout.LogoutFilter@26f34f78, com.getir.library_management_system.security.JwtAuthenticationFilter@630f76cb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6822c616, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@eb19d9a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67cb04a9, org.springframework.security.web.access.ExceptionTranslationFilter@2128ebbb, org.springframework.security.web.access.intercept.AuthorizationFilter@5ac02412]
2025-05-12 20:40:04 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:40:04 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:40:04 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-12 20:40:04 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 2.799 seconds (process running for 46.195)
2025-05-12 20:40:04 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 20:40:04 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 20:40:04 WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2025-05-12 20:40:04 ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "books_pkey"
  Detail: Key (id)=(3) already exists.
2025-05-12 20:40:04 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:40:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-05-12 20:40:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-05-12 20:40:05 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:40:05 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 8586 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:40:05 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-12 20:40:05 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:40:05 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
2025-05-12 20:40:06 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:40:06 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:40:06 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:40:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-05-12 20:40:06 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@2fa7b7c8
2025-05-12 20:40:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-05-12 20:40:06 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:40:06 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:40:06 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:40:06 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@f8166fd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69be3629, org.springframework.security.web.context.SecurityContextHolderFilter@4555837a, org.springframework.security.web.header.HeaderWriterFilter@19864bb3, org.springframework.web.filter.CorsFilter@1b7b311d, org.springframework.security.web.authentication.logout.LogoutFilter@19ce8ac, com.getir.library_management_system.security.JwtAuthenticationFilter@25cf77c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@26106e67, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43cbf89b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6cf1c9fa, org.springframework.security.web.access.ExceptionTranslationFilter@34da3c92, org.springframework.security.web.access.intercept.AuthorizationFilter@38c9e69e]
2025-05-12 20:40:07 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:40:07 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:40:07 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-12 20:40:07 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 2.225 seconds (process running for 48.886)
2025-05-12 20:40:07 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 20:40:07 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 20:40:07 WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2025-05-12 20:40:07 ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "books_pkey"
  Detail: Key (id)=(4) already exists.
2025-05-12 20:40:07 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:40:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-05-12 20:40:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-05-12 20:40:07 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:40:07 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 8586 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:40:07 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-12 20:40:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:40:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 3 JPA repository interfaces.
2025-05-12 20:40:09 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:40:09 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:40:09 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:40:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-05-12 20:40:09 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@4510e3c4
2025-05-12 20:40:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-05-12 20:40:09 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:40:09 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:40:09 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:40:09 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44b81156, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c99143c, org.springframework.security.web.context.SecurityContextHolderFilter@229e1eab, org.springframework.security.web.header.HeaderWriterFilter@60143482, org.springframework.web.filter.CorsFilter@441b9fd0, org.springframework.security.web.authentication.logout.LogoutFilter@3c389c29, com.getir.library_management_system.security.JwtAuthenticationFilter@12491413, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c733e01, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ff02d5c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3094cc5a, org.springframework.security.web.access.ExceptionTranslationFilter@1672be45, org.springframework.security.web.access.intercept.AuthorizationFilter@273a6829]
2025-05-12 20:40:10 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:40:10 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:40:10 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 3 ms
2025-05-12 20:40:10 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 2.927 seconds (process running for 52.31)
2025-05-12 20:40:10 INFO  c.g.l.controller.BookController - Request to create a new book: Book 0
2025-05-12 20:40:10 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 0
2025-05-12 20:40:10 WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2025-05-12 20:40:10 ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "books_pkey"
  Detail: Key (id)=(5) already exists.
2025-05-12 20:40:10 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:40:10 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-05-12 20:40:10 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-05-12 20:40:11 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.AuthControllerIntegrationTest]: AuthControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-12 20:40:11 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.AuthControllerIntegrationTest
2025-05-12 20:40:11 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:40:11 INFO  c.g.l.i.AuthControllerIntegrationTest - Starting AuthControllerIntegrationTest using Java 21.0.7 with PID 8586 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:40:11 INFO  c.g.l.i.AuthControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-12 20:40:12 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:40:12 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2025-05-12 20:40:12 INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-05-12 20:40:12 INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:4329685d-ade2-4221-9160-881bb1fa8bf8;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-05-12 20:40:13 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:40:13 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:40:13 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:40:14 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:40:14 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:40:14 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:40:15 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3b89c445, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7469730d, org.springframework.security.web.context.SecurityContextHolderFilter@4e701bfd, org.springframework.security.web.header.HeaderWriterFilter@52ba8ff7, org.springframework.web.filter.CorsFilter@6a289327, org.springframework.security.web.authentication.logout.LogoutFilter@5a52afa6, com.getir.library_management_system.security.JwtAuthenticationFilter@667d7583, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ab858a2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@127011a0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@192c788e, org.springframework.security.web.access.ExceptionTranslationFilter@135776fb, org.springframework.security.web.access.intercept.AuthorizationFilter@30b869ed]
2025-05-12 20:40:16 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:40:16 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:40:16 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 4 ms
2025-05-12 20:40:16 INFO  c.g.l.i.AuthControllerIntegrationTest - Started AuthControllerIntegrationTest in 4.897 seconds (process running for 57.787)
2025-05-12 20:40:16 INFO  c.g.l.controller.AuthController - Login attempt for email: user@example.com
2025-05-12 20:40:16 WARN  c.g.l.controller.AuthController - Authentication failed for email: user@example.com
2025-05-12 20:40:16 INFO  c.g.l.controller.AuthController - Login attempt for email: user@example.com
2025-05-12 20:40:16 INFO  c.g.l.controller.AuthController - Authentication successful for email: user@example.com
2025-05-12 20:40:17 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 1
2025-05-12 20:40:17 INFO  c.g.l.service.impl.UserServiceImpl - User deleted successfully with ID: 1
2025-05-12 20:40:17 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 1
2025-05-12 20:40:17 INFO  c.g.l.service.impl.UserServiceImpl - User updated successfully with ID: 1
2025-05-12 20:40:17 INFO  c.g.l.service.impl.UserServiceImpl - Registering new user with email: john@example.com
2025-05-12 20:40:17 INFO  c.g.l.service.impl.UserServiceImpl - User registered successfully with ID: null
2025-05-12 20:40:17 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 1
2025-05-12 20:40:17 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 1
2025-05-12 20:40:17 WARN  c.g.l.service.impl.UserServiceImpl - User not found for deletion with ID: 1
2025-05-12 20:40:18 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 1
2025-05-12 20:40:18 WARN  c.g.l.service.impl.UserServiceImpl - User not found for update with ID: 1
2025-05-12 20:40:18 WARN  c.g.l.service.impl.UserServiceImpl - loadUserByUsername() not implemented. Username: any
2025-05-12 20:40:18 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 1
2025-05-12 20:40:18 WARN  c.g.l.service.impl.UserServiceImpl - User not found with ID: 1
2025-05-12 20:40:18 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=1, title=Sample Title, stock=5)
2025-05-12 20:40:18 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.LibraryManagementSystemApplicationTests]: LibraryManagementSystemApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-12 20:40:18 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.LibraryManagementSystemApplicationTests
2025-05-12 20:40:18 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:40:18 INFO  c.g.l.LibraryManagementSystemApplicationTests - Starting LibraryManagementSystemApplicationTests using Java 21.0.7 with PID 8586 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:40:18 INFO  c.g.l.LibraryManagementSystemApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-05-12 20:40:18 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:40:18 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 3 JPA repository interfaces.
2025-05-12 20:40:19 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:40:19 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:40:19 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:40:19 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-05-12 20:40:19 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@56d6416c
2025-05-12 20:40:19 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-05-12 20:40:19 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:40:19 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:40:20 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:40:20 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54cfd22d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3feefdc0, org.springframework.security.web.context.SecurityContextHolderFilter@2f71d55c, org.springframework.security.web.header.HeaderWriterFilter@2eed8281, org.springframework.web.filter.CorsFilter@31a836a5, org.springframework.security.web.authentication.logout.LogoutFilter@7ef2b71b, com.getir.library_management_system.security.JwtAuthenticationFilter@1612974f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3300053c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d33323e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@83571b8, org.springframework.security.web.access.ExceptionTranslationFilter@74fb4cde, org.springframework.security.web.access.intercept.AuthorizationFilter@494e0d4d]
2025-05-12 20:40:21 INFO  c.g.l.LibraryManagementSystemApplicationTests - Started LibraryManagementSystemApplicationTests in 3.707 seconds (process running for 63.522)
2025-05-12 20:40:24 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.BorrowingControllerIntegrationTest]: BorrowingControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-12 20:40:24 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.BorrowingControllerIntegrationTest
2025-05-12 20:40:24 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:40:24 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Starting BorrowingControllerIntegrationTest using Java 21.0.7 with PID 8586 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:40:24 INFO  c.g.l.i.BorrowingControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-12 20:40:24 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:40:24 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 3 JPA repository interfaces.
2025-05-12 20:40:25 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:40:25 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:40:25 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:40:25 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-05-12 20:40:25 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection org.postgresql.jdbc.PgConnection@27d1b03
2025-05-12 20:40:25 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-05-12 20:40:25 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:40:25 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:40:26 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:40:26 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@600d3414, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6488ee25, org.springframework.security.web.context.SecurityContextHolderFilter@64b0c93f, org.springframework.security.web.header.HeaderWriterFilter@4b5a51c9, org.springframework.web.filter.CorsFilter@7956c716, org.springframework.security.web.authentication.logout.LogoutFilter@537aff77, com.getir.library_management_system.security.JwtAuthenticationFilter@7e5d5663, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17aa7cb0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@282cf990, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@574c292a, org.springframework.security.web.access.ExceptionTranslationFilter@680ae66b, org.springframework.security.web.access.intercept.AuthorizationFilter@585edd53]
2025-05-12 20:40:27 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:40:27 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:40:27 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-12 20:40:27 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Started BorrowingControllerIntegrationTest in 2.816 seconds (process running for 68.851)
2025-05-12 20:40:27 INFO  c.g.l.controller.BorrowingController - Fetching borrowing history for user ID 6
2025-05-12 20:40:27 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching borrowing history for user ID: 6
2025-05-12 20:40:28 INFO  c.g.l.controller.BorrowingController - Fetching all borrowings (Librarian access)
2025-05-12 20:40:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching all borrowing records
2025-05-12 20:40:28 INFO  c.g.l.controller.BorrowingController - User 8 is attempting to borrow book with ID 8
2025-05-12 20:40:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 8 is attempting to borrow book 8
2025-05-12 20:40:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 8 marked as unavailable
2025-05-12 20:40:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing created with ID: 3
2025-05-12 20:40:28 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=8, title=Test Book, stock=4)
2025-05-12 20:40:28 INFO  c.g.l.controller.BorrowingController - Book borrowed successfully with borrowing ID 3
2025-05-12 20:40:28 INFO  c.g.l.controller.BorrowingController - Returning book for borrowing ID 3
2025-05-12 20:40:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 3
2025-05-12 20:40:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 8 marked as available
2025-05-12 20:40:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing 3 marked as returned
2025-05-12 20:40:28 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=8, title=Test Book, stock=5)
2025-05-12 20:40:28 INFO  c.g.l.controller.BorrowingController - Book returned successfully for borrowing ID 3
2025-05-12 20:40:29 INFO  c.g.l.controller.BorrowingController - Fetching overdue borrowings
2025-05-12 20:40:29 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching overdue borrowings
2025-05-12 20:40:29 INFO  c.g.l.controller.BorrowingController - Fetching detailed overdue book list
2025-05-12 20:40:29 INFO  c.g.l.s.impl.BorrowingServiceImpl - Checking for overdue books as of 2025-05-12
2025-05-12 20:40:29 INFO  c.g.l.controller.BorrowingController - Generating overdue book report
2025-05-12 20:40:31 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.UserControllerIntegrationTest]: UserControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-12 20:40:31 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.UserControllerIntegrationTest
2025-05-12 20:40:31 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:40:31 INFO  c.g.l.i.UserControllerIntegrationTest - Starting UserControllerIntegrationTest using Java 21.0.7 with PID 8586 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:40:31 INFO  c.g.l.i.UserControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-12 20:40:31 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:40:32 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 3 JPA repository interfaces.
2025-05-12 20:40:32 INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-05-12 20:40:32 INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:d997ef13-096d-4b80-8992-68d17292b0e1;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-05-12 20:40:32 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:40:32 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:40:32 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:40:32 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:40:32 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:40:32 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:40:32 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@b059eac, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d6e2801, org.springframework.security.web.context.SecurityContextHolderFilter@1f4309aa, org.springframework.security.web.header.HeaderWriterFilter@3caf23e, org.springframework.web.filter.CorsFilter@3d13d24b, org.springframework.security.web.authentication.logout.LogoutFilter@28e9267, com.getir.library_management_system.security.JwtAuthenticationFilter@411d13ee, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61a8c7ae, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@51888639, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fae712d, org.springframework.security.web.access.ExceptionTranslationFilter@6d3bb56f, org.springframework.security.web.access.intercept.AuthorizationFilter@301053ef]
2025-05-12 20:40:33 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:40:33 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:40:33 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-12 20:40:33 INFO  c.g.l.i.UserControllerIntegrationTest - Started UserControllerIntegrationTest in 1.817 seconds (process running for 74.874)
2025-05-12 20:40:33 INFO  c.g.l.controller.UserController - Registering new user with email: jane@example.com
2025-05-12 20:40:33 INFO  c.g.l.service.impl.UserServiceImpl - Registering new user with email: jane@example.com
2025-05-12 20:40:33 INFO  c.g.l.service.impl.UserServiceImpl - User registered successfully with ID: 2
2025-05-12 20:40:33 INFO  c.g.l.controller.UserController - User registered successfully with id: 2
2025-05-12 20:40:34 INFO  c.g.l.controller.UserController - Updating user with id: 3
2025-05-12 20:40:34 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 3
2025-05-12 20:40:34 INFO  c.g.l.service.impl.UserServiceImpl - User updated successfully with ID: 3
2025-05-12 20:40:34 WARN  c.g.l.controller.UserController - Deleting user with id: 4
2025-05-12 20:40:34 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 4
2025-05-12 20:40:34 INFO  c.g.l.service.impl.UserServiceImpl - User deleted successfully with ID: 4
2025-05-12 20:40:34 INFO  c.g.l.controller.UserController - Fetching user with id: 5
2025-05-12 20:40:34 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 5
2025-05-12 20:40:35 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Title
2025-05-12 20:40:35 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 20:40:35 INFO  c.g.l.service.impl.BookServiceImpl - Searching books with keyword: java
2025-05-12 20:40:35 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-12 20:40:35 WARN  c.g.l.service.impl.BookServiceImpl - Cannot delete. Book not found with ID: 1
2025-05-12 20:40:35 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-12 20:40:35 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-12 20:40:35 INFO  c.g.l.service.impl.BookServiceImpl - Book found: Sample
2025-05-12 20:40:35 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-12 20:40:35 INFO  c.g.l.service.impl.BookServiceImpl - Book deleted with ID: 1
2025-05-12 20:40:35 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-12 20:40:35 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 1
2025-05-12 20:40:35 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-12 20:40:35 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-12 20:40:35 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-12 20:40:35 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-12 20:40:35 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: john@example.com
2025-05-12 20:40:35 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: john@example.com
2025-05-12 20:40:35 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: notfound@example.com
2025-05-12 20:40:35 WARN  c.g.l.s.CustomUserDetailsService - User not found with email: notfound@example.com
2025-05-12 20:40:35 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:40:35 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:40:35 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-05-12 20:40:35 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-05-12 20:40:35 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:40:35 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-05-12 20:40:35 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-05-12 20:40:35 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:41:18 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-12 20:41:18 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-12 20:41:18 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 29 ms
2025-05-12 20:42:01 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-12 20:42:01 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 8734 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:42:01 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-12 20:42:02 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:42:02 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 257 ms. Found 3 JPA repository interfaces.
2025-05-12 20:42:03 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:42:03 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-12 20:42:03 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:42:03 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:42:03 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-12 20:42:04 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4ea48b2e
2025-05-12 20:42:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-12 20:42:05 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:42:05 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:42:06 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-12 20:42:07 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:42:07 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@51e513b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@87affb5, org.springframework.security.web.context.SecurityContextHolderFilter@28566aad, org.springframework.security.web.header.HeaderWriterFilter@4da929ef, org.springframework.web.filter.CorsFilter@1c461b90, org.springframework.security.web.authentication.logout.LogoutFilter@78edbe01, com.getir.library_management_system.security.JwtAuthenticationFilter@3100b5cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29c8a858, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54543211, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@518e6d6c, org.springframework.security.web.access.ExceptionTranslationFilter@4c2cc99f, org.springframework.security.web.access.intercept.AuthorizationFilter@6bc6400e]
2025-05-12 20:42:08 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:42:08 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:42:08 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-12 20:42:08 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 7.828 seconds (process running for 9.528)
2025-05-12 20:42:09 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 20:42:09 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 20:42:09 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 10
2025-05-12 20:42:09 INFO  c.g.l.controller.BookController - Book created with ID: 10
2025-05-12 20:42:09 INFO  c.g.l.controller.BookController - Updating book with ID: 10
2025-05-12 20:42:09 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 10
2025-05-12 20:42:09 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 10
2025-05-12 20:42:09 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:42:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-12 20:42:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-12 20:46:26 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-12 20:46:26 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 8858 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:46:26 INFO  c.g.l.i.BookControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 20:46:27 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:46:27 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 259 ms. Found 3 JPA repository interfaces.
2025-05-12 20:46:28 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:46:28 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-12 20:46:28 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:46:29 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:46:29 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-12 20:46:29 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-05-12 20:46:29 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-12 20:46:29 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 20:46:30 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:46:30 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:46:31 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-12 20:46:32 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:46:32 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b74787f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@338f96f5, org.springframework.security.web.context.SecurityContextHolderFilter@227ca700, org.springframework.security.web.header.HeaderWriterFilter@1efdaec0, org.springframework.web.filter.CorsFilter@6b4b5ac8, org.springframework.security.web.authentication.logout.LogoutFilter@2ae62f7, com.getir.library_management_system.security.JwtAuthenticationFilter@5eaa4ed0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c17ebb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b867623, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2554bfa, org.springframework.security.web.access.ExceptionTranslationFilter@25a218a, org.springframework.security.web.access.intercept.AuthorizationFilter@3ba468ec]
2025-05-12 20:46:33 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 20:46:33 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:46:33 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:46:33 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-12 20:46:33 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 7.908 seconds (process running for 9.491)
2025-05-12 20:46:34 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 20:46:34 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 20:46:34 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 20:46:34 INFO  c.g.l.controller.BookController - Book created with ID: 1
2025-05-12 20:46:34 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:46:34 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-12 20:46:34 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-12 20:46:34 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:46:34 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 8858 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:46:34 INFO  c.g.l.i.BookControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 20:46:34 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:46:35 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 3 JPA repository interfaces.
2025-05-12 20:46:35 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:46:35 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:46:35 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:46:35 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-05-12 20:46:35 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:testdb user=SA
2025-05-12 20:46:35 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-05-12 20:46:35 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 20:46:35 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:46:35 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:46:35 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:46:35 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c72031c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24d815da, org.springframework.security.web.context.SecurityContextHolderFilter@25824720, org.springframework.security.web.header.HeaderWriterFilter@6d1bbd00, org.springframework.web.filter.CorsFilter@452895aa, org.springframework.security.web.authentication.logout.LogoutFilter@5769eb7b, com.getir.library_management_system.security.JwtAuthenticationFilter@726bbe64, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f01d2ea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50a65fb9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8bac10b, org.springframework.security.web.access.ExceptionTranslationFilter@7d9c448f, org.springframework.security.web.access.intercept.AuthorizationFilter@74873b07]
2025-05-12 20:46:35 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 20:46:35 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:46:35 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:46:35 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-12 20:46:35 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 1.126 seconds (process running for 11.842)
2025-05-12 20:46:35 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 20:46:35 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 20:46:35 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 20:46:35 INFO  c.g.l.controller.BookController - Book created with ID: 1
2025-05-12 20:46:35 INFO  c.g.l.controller.BookController - Fetching book details for ID: 1
2025-05-12 20:46:35 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-12 20:46:35 INFO  c.g.l.service.impl.BookServiceImpl - Book found: Test Book
2025-05-12 20:46:35 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:46:35 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-05-12 20:46:35 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-05-12 20:46:35 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:46:35 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 8858 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:46:35 INFO  c.g.l.i.BookControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 20:46:36 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:46:36 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 3 JPA repository interfaces.
2025-05-12 20:46:36 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:46:36 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:46:36 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:46:36 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-05-12 20:46:36 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:testdb user=SA
2025-05-12 20:46:36 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-05-12 20:46:36 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 20:46:36 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:46:36 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:46:36 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:46:36 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3b764ae5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f9b22c1, org.springframework.security.web.context.SecurityContextHolderFilter@166913c2, org.springframework.security.web.header.HeaderWriterFilter@54a30614, org.springframework.web.filter.CorsFilter@4b43d8e1, org.springframework.security.web.authentication.logout.LogoutFilter@bc86ac, com.getir.library_management_system.security.JwtAuthenticationFilter@627e21c9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@301b21f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@124a5e54, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dda5493, org.springframework.security.web.access.ExceptionTranslationFilter@43aa4e0d, org.springframework.security.web.access.intercept.AuthorizationFilter@4e5b0a90]
2025-05-12 20:46:36 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 20:46:36 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:46:36 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:46:36 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-12 20:46:36 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 1.031 seconds (process running for 12.961)
2025-05-12 20:46:36 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 20:46:36 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 20:46:36 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 20:46:36 INFO  c.g.l.controller.BookController - Book created with ID: 1
2025-05-12 20:46:36 INFO  c.g.l.controller.BookController - Updating book with ID: 1
2025-05-12 20:46:36 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-12 20:46:36 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 1
2025-05-12 20:46:36 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:46:36 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-05-12 20:46:36 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-05-12 20:46:37 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:46:37 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 8858 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:46:37 INFO  c.g.l.i.BookControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 20:46:37 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:46:37 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 3 JPA repository interfaces.
2025-05-12 20:46:37 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:46:37 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:46:37 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:46:37 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-05-12 20:46:37 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection conn30: url=jdbc:h2:mem:testdb user=SA
2025-05-12 20:46:37 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-05-12 20:46:37 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 20:46:37 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:46:37 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:46:37 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:46:37 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4b5725b5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69f89cbc, org.springframework.security.web.context.SecurityContextHolderFilter@12e9ac59, org.springframework.security.web.header.HeaderWriterFilter@44bb068c, org.springframework.web.filter.CorsFilter@19a7f552, org.springframework.security.web.authentication.logout.LogoutFilter@3ce3ddce, com.getir.library_management_system.security.JwtAuthenticationFilter@35cca8bd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@faf79f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f24d88b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b9b32f3, org.springframework.security.web.access.ExceptionTranslationFilter@7d21ab4c, org.springframework.security.web.access.intercept.AuthorizationFilter@11ce721f]
2025-05-12 20:46:37 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 20:46:37 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:46:37 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:46:37 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-05-12 20:46:37 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 0.97 seconds (process running for 14.004)
2025-05-12 20:46:37 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 20:46:37 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 20:46:37 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 20:46:37 INFO  c.g.l.controller.BookController - Book created with ID: 1
2025-05-12 20:46:38 INFO  c.g.l.controller.BookController - Deleting book with ID: 1
2025-05-12 20:46:38 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-12 20:46:38 INFO  c.g.l.service.impl.BookServiceImpl - Book deleted with ID: 1
2025-05-12 20:46:38 INFO  c.g.l.controller.BookController - Fetching book details for ID: 1
2025-05-12 20:46:38 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-12 20:46:38 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-12 20:46:38 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:46:38 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-05-12 20:46:38 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-05-12 20:46:38 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:46:38 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 8858 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:46:38 INFO  c.g.l.i.BookControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 20:46:38 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:46:38 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 3 JPA repository interfaces.
2025-05-12 20:46:38 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:46:38 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:46:38 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:46:38 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-05-12 20:46:38 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection conn40: url=jdbc:h2:mem:testdb user=SA
2025-05-12 20:46:38 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-05-12 20:46:38 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 20:46:38 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:46:38 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:46:38 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:46:38 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21df4367, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65d8f9d2, org.springframework.security.web.context.SecurityContextHolderFilter@3bee1bb3, org.springframework.security.web.header.HeaderWriterFilter@35050186, org.springframework.web.filter.CorsFilter@43040840, org.springframework.security.web.authentication.logout.LogoutFilter@23ece5f3, com.getir.library_management_system.security.JwtAuthenticationFilter@36b3240f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a4c9b33, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75806ed6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12f20b92, org.springframework.security.web.access.ExceptionTranslationFilter@7fca1531, org.springframework.security.web.access.intercept.AuthorizationFilter@6b475c1e]
2025-05-12 20:46:38 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 20:46:39 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:46:39 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:46:39 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-12 20:46:39 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 0.961 seconds (process running for 15.059)
2025-05-12 20:46:39 INFO  c.g.l.controller.BookController - Request to create a new book: Book 0
2025-05-12 20:46:39 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 0
2025-05-12 20:46:39 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 20:46:39 INFO  c.g.l.controller.BookController - Book created with ID: 1
2025-05-12 20:46:39 INFO  c.g.l.controller.BookController - Request to create a new book: Book 1
2025-05-12 20:46:39 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 1
2025-05-12 20:46:39 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 2
2025-05-12 20:46:39 INFO  c.g.l.controller.BookController - Book created with ID: 2
2025-05-12 20:46:39 INFO  c.g.l.controller.BookController - Request to create a new book: Book 2
2025-05-12 20:46:39 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 2
2025-05-12 20:46:39 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 3
2025-05-12 20:46:39 INFO  c.g.l.controller.BookController - Book created with ID: 3
2025-05-12 20:46:39 INFO  c.g.l.controller.BookController - Request to create a new book: Book 3
2025-05-12 20:46:39 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 3
2025-05-12 20:46:39 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 4
2025-05-12 20:46:39 INFO  c.g.l.controller.BookController - Book created with ID: 4
2025-05-12 20:46:39 INFO  c.g.l.controller.BookController - Request to create a new book: Book 4
2025-05-12 20:46:39 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 4
2025-05-12 20:46:39 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 5
2025-05-12 20:46:39 INFO  c.g.l.controller.BookController - Book created with ID: 5
2025-05-12 20:46:39 INFO  c.g.l.controller.BookController - Searching books with keyword: 'Book', page: 0, size: 5
2025-05-12 20:46:39 INFO  c.g.l.service.impl.BookServiceImpl - Searching books with keyword: Book
2025-05-12 20:46:39 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:46:39 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-05-12 20:46:39 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-05-12 20:51:57 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-12 20:51:57 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 9144 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:51:57 INFO  c.g.l.i.BookControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 20:51:58 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:51:58 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 258 ms. Found 3 JPA repository interfaces.
2025-05-12 20:51:59 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:51:59 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-12 20:51:59 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:51:59 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:51:59 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-12 20:52:00 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-05-12 20:52:00 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-12 20:52:00 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 20:52:01 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:52:01 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:01 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-12 20:52:02 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:52:03 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5edf9eb1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ce1d507, org.springframework.security.web.context.SecurityContextHolderFilter@134b19ae, org.springframework.security.web.header.HeaderWriterFilter@60fd51a1, org.springframework.web.filter.CorsFilter@7fece723, org.springframework.security.web.authentication.logout.LogoutFilter@36ccc844, com.getir.library_management_system.security.JwtAuthenticationFilter@57e6f449, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f57fc23, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1dbf21c5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24af46dd, org.springframework.security.web.access.ExceptionTranslationFilter@39c4ed23, org.springframework.security.web.access.intercept.AuthorizationFilter@7454f141]
2025-05-12 20:52:03 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 20:52:03 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:52:03 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:52:03 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-12 20:52:03 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 7.142 seconds (process running for 10.6)
2025-05-12 20:52:04 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 20:52:04 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 20:52:04 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 20:52:04 INFO  c.g.l.controller.BookController - Book created with ID: 1
2025-05-12 20:52:04 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-12 20:52:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-12 20:52:04 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:52:04 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 9144 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:52:04 INFO  c.g.l.i.BookControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 20:52:04 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:52:04 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 3 JPA repository interfaces.
2025-05-12 20:52:05 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:52:05 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:52:05 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:52:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-05-12 20:52:05 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:testdb user=SA
2025-05-12 20:52:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-05-12 20:52:05 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 20:52:05 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:52:05 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:05 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:52:05 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3d352fb4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ba2507f, org.springframework.security.web.context.SecurityContextHolderFilter@24614fbb, org.springframework.security.web.header.HeaderWriterFilter@79a3499, org.springframework.web.filter.CorsFilter@4b8eeca7, org.springframework.security.web.authentication.logout.LogoutFilter@3aea9e4, com.getir.library_management_system.security.JwtAuthenticationFilter@4da6fd47, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@458d6519, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7bf4fa70, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d9a46fc, org.springframework.security.web.access.ExceptionTranslationFilter@2c79008, org.springframework.security.web.access.intercept.AuthorizationFilter@71def98b]
2025-05-12 20:52:05 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 20:52:05 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:52:05 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:52:05 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-12 20:52:05 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 1.07 seconds (process running for 12.275)
2025-05-12 20:52:05 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 20:52:05 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 20:52:05 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 20:52:05 INFO  c.g.l.controller.BookController - Book created with ID: 1
2025-05-12 20:52:05 INFO  c.g.l.controller.BookController - Fetching book details for ID: 1
2025-05-12 20:52:05 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-12 20:52:05 INFO  c.g.l.service.impl.BookServiceImpl - Book found: Test Book
2025-05-12 20:52:05 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-05-12 20:52:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-05-12 20:52:05 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:52:05 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 9144 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:52:05 INFO  c.g.l.i.BookControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 20:52:05 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:52:06 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
2025-05-12 20:52:06 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:52:06 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:52:06 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:52:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-05-12 20:52:06 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:testdb user=SA
2025-05-12 20:52:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-05-12 20:52:06 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 20:52:06 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:52:06 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:06 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:52:06 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4cb62aac, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15f436d7, org.springframework.security.web.context.SecurityContextHolderFilter@30779b35, org.springframework.security.web.header.HeaderWriterFilter@3fad151c, org.springframework.web.filter.CorsFilter@13b9da00, org.springframework.security.web.authentication.logout.LogoutFilter@19a80673, com.getir.library_management_system.security.JwtAuthenticationFilter@17598d70, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@74bc3c06, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42d87166, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@42a327e, org.springframework.security.web.access.ExceptionTranslationFilter@7f593176, org.springframework.security.web.access.intercept.AuthorizationFilter@d3346f7]
2025-05-12 20:52:06 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 20:52:06 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:52:06 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:52:06 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-12 20:52:06 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 1.012 seconds (process running for 13.375)
2025-05-12 20:52:06 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 20:52:06 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 20:52:06 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 20:52:06 INFO  c.g.l.controller.BookController - Book created with ID: 1
2025-05-12 20:52:06 INFO  c.g.l.controller.BookController - Updating book with ID: 1
2025-05-12 20:52:06 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-12 20:52:06 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 1
2025-05-12 20:52:06 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-05-12 20:52:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-05-12 20:52:06 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:52:06 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 9144 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:52:06 INFO  c.g.l.i.BookControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 20:52:07 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:52:07 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 3 JPA repository interfaces.
2025-05-12 20:52:07 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:52:07 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:52:07 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:52:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-05-12 20:52:07 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection conn30: url=jdbc:h2:mem:testdb user=SA
2025-05-12 20:52:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-05-12 20:52:07 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 20:52:07 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:52:07 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:07 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:52:07 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@365af87d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78072f48, org.springframework.security.web.context.SecurityContextHolderFilter@487edcba, org.springframework.security.web.header.HeaderWriterFilter@2960a7fe, org.springframework.web.filter.CorsFilter@578249f7, org.springframework.security.web.authentication.logout.LogoutFilter@7f0632ac, com.getir.library_management_system.security.JwtAuthenticationFilter@34b2a6f4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@33c9c0f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6dd0a83d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ed1438a, org.springframework.security.web.access.ExceptionTranslationFilter@4cb518d, org.springframework.security.web.access.intercept.AuthorizationFilter@6acc72c7]
2025-05-12 20:52:07 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 20:52:07 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:52:07 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:52:07 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-12 20:52:07 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 0.915 seconds (process running for 14.37)
2025-05-12 20:52:07 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 20:52:07 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 20:52:07 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 20:52:07 INFO  c.g.l.controller.BookController - Book created with ID: 1
2025-05-12 20:52:07 INFO  c.g.l.controller.BookController - Deleting book with ID: 1
2025-05-12 20:52:07 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-12 20:52:07 INFO  c.g.l.service.impl.BookServiceImpl - Book deleted with ID: 1
2025-05-12 20:52:07 INFO  c.g.l.controller.BookController - Fetching book details for ID: 1
2025-05-12 20:52:07 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-12 20:52:07 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-12 20:52:07 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-05-12 20:52:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-05-12 20:52:07 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:52:07 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 9144 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:52:07 INFO  c.g.l.i.BookControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 20:52:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:52:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 3 JPA repository interfaces.
2025-05-12 20:52:08 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:52:08 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:52:08 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:52:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-05-12 20:52:08 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection conn40: url=jdbc:h2:mem:testdb user=SA
2025-05-12 20:52:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-05-12 20:52:08 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 20:52:08 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:52:08 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:08 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:52:08 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c0eeeaf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5715f434, org.springframework.security.web.context.SecurityContextHolderFilter@45ae224f, org.springframework.security.web.header.HeaderWriterFilter@3634bc73, org.springframework.web.filter.CorsFilter@3fac6764, org.springframework.security.web.authentication.logout.LogoutFilter@555ddfad, com.getir.library_management_system.security.JwtAuthenticationFilter@24ebbeff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@645d2377, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7291d887, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@667ea550, org.springframework.security.web.access.ExceptionTranslationFilter@36b41dd6, org.springframework.security.web.access.intercept.AuthorizationFilter@24bfa69f]
2025-05-12 20:52:08 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 20:52:08 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:52:08 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:52:08 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-05-12 20:52:08 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 0.905 seconds (process running for 15.371)
2025-05-12 20:52:08 INFO  c.g.l.controller.BookController - Request to create a new book: Book 0
2025-05-12 20:52:08 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 0
2025-05-12 20:52:08 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 20:52:08 INFO  c.g.l.controller.BookController - Book created with ID: 1
2025-05-12 20:52:08 INFO  c.g.l.controller.BookController - Request to create a new book: Book 1
2025-05-12 20:52:08 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 1
2025-05-12 20:52:08 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 2
2025-05-12 20:52:08 INFO  c.g.l.controller.BookController - Book created with ID: 2
2025-05-12 20:52:08 INFO  c.g.l.controller.BookController - Request to create a new book: Book 2
2025-05-12 20:52:08 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 2
2025-05-12 20:52:08 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 3
2025-05-12 20:52:08 INFO  c.g.l.controller.BookController - Book created with ID: 3
2025-05-12 20:52:08 INFO  c.g.l.controller.BookController - Request to create a new book: Book 3
2025-05-12 20:52:08 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 3
2025-05-12 20:52:08 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 4
2025-05-12 20:52:08 INFO  c.g.l.controller.BookController - Book created with ID: 4
2025-05-12 20:52:08 INFO  c.g.l.controller.BookController - Request to create a new book: Book 4
2025-05-12 20:52:08 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 4
2025-05-12 20:52:08 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 5
2025-05-12 20:52:08 INFO  c.g.l.controller.BookController - Book created with ID: 5
2025-05-12 20:52:08 INFO  c.g.l.controller.BookController - Searching books with keyword: 'Book', page: 0, size: 5
2025-05-12 20:52:08 INFO  c.g.l.service.impl.BookServiceImpl - Searching books with keyword: Book
2025-05-12 20:52:08 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-05-12 20:52:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-05-12 20:52:08 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.AuthControllerIntegrationTest]: AuthControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-12 20:52:08 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.AuthControllerIntegrationTest
2025-05-12 20:52:08 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:52:08 INFO  c.g.l.i.AuthControllerIntegrationTest - Starting AuthControllerIntegrationTest using Java 21.0.7 with PID 9144 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:52:08 INFO  c.g.l.i.AuthControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 20:52:09 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:52:09 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
2025-05-12 20:52:09 INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-05-12 20:52:09 INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:044ab2a5-6ff0-41b3-a97f-49b8b036d3cd;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-05-12 20:52:09 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:52:09 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:52:09 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:52:09 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 20:52:09 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:52:09 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:09 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:52:09 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@457a8955, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a40528, org.springframework.security.web.context.SecurityContextHolderFilter@32ac5ce1, org.springframework.security.web.header.HeaderWriterFilter@5162cfa4, org.springframework.web.filter.CorsFilter@37263abc, org.springframework.security.web.authentication.logout.LogoutFilter@3ff9eaf8, com.getir.library_management_system.security.JwtAuthenticationFilter@4084d6b4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6473cf19, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28ba0ded, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@205d9921, org.springframework.security.web.access.ExceptionTranslationFilter@2e1c5321, org.springframework.security.web.access.intercept.AuthorizationFilter@3d255920]
2025-05-12 20:52:09 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:044ab2a5-6ff0-41b3-a97f-49b8b036d3cd'
2025-05-12 20:52:09 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:52:09 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:52:09 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-12 20:52:09 INFO  c.g.l.i.AuthControllerIntegrationTest - Started AuthControllerIntegrationTest in 1.11 seconds (process running for 16.65)
2025-05-12 20:52:10 INFO  c.g.l.controller.AuthController - Login attempt for email: user@example.com
2025-05-12 20:52:10 WARN  c.g.l.controller.AuthController - Authentication failed for email: user@example.com
2025-05-12 20:52:10 INFO  c.g.l.controller.AuthController - Login attempt for email: user@example.com
2025-05-12 20:52:10 INFO  c.g.l.controller.AuthController - Authentication successful for email: user@example.com
2025-05-12 20:52:10 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 1
2025-05-12 20:52:10 INFO  c.g.l.service.impl.UserServiceImpl - User deleted successfully with ID: 1
2025-05-12 20:52:10 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 1
2025-05-12 20:52:10 INFO  c.g.l.service.impl.UserServiceImpl - User updated successfully with ID: 1
2025-05-12 20:52:10 INFO  c.g.l.service.impl.UserServiceImpl - Registering new user with email: john@example.com
2025-05-12 20:52:10 INFO  c.g.l.service.impl.UserServiceImpl - User registered successfully with ID: null
2025-05-12 20:52:10 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 1
2025-05-12 20:52:10 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 1
2025-05-12 20:52:10 WARN  c.g.l.service.impl.UserServiceImpl - User not found for deletion with ID: 1
2025-05-12 20:52:10 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 1
2025-05-12 20:52:10 WARN  c.g.l.service.impl.UserServiceImpl - User not found for update with ID: 1
2025-05-12 20:52:10 WARN  c.g.l.service.impl.UserServiceImpl - loadUserByUsername() not implemented. Username: any
2025-05-12 20:52:10 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 1
2025-05-12 20:52:10 WARN  c.g.l.service.impl.UserServiceImpl - User not found with ID: 1
2025-05-12 20:52:10 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=1, title=Sample Title, stock=5)
2025-05-12 20:52:10 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.LibraryManagementSystemApplicationTests]: LibraryManagementSystemApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-12 20:52:10 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.LibraryManagementSystemApplicationTests
2025-05-12 20:52:10 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:52:10 INFO  c.g.l.LibraryManagementSystemApplicationTests - Starting LibraryManagementSystemApplicationTests using Java 21.0.7 with PID 9144 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:52:10 INFO  c.g.l.LibraryManagementSystemApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-05-12 20:52:10 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:52:10 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 3 JPA repository interfaces.
2025-05-12 20:52:10 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:52:10 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:52:10 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:52:10 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-05-12 20:52:10 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@1a628ee7
2025-05-12 20:52:10 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-05-12 20:52:10 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:52:10 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:11 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:52:11 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@f32f46, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@566a9af7, org.springframework.security.web.context.SecurityContextHolderFilter@200aa52f, org.springframework.security.web.header.HeaderWriterFilter@3ea78573, org.springframework.web.filter.CorsFilter@58a0dd52, org.springframework.security.web.authentication.logout.LogoutFilter@385dc245, com.getir.library_management_system.security.JwtAuthenticationFilter@623d3fd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@23dda037, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f05ad88, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@688a2f78, org.springframework.security.web.access.ExceptionTranslationFilter@339bf5f9, org.springframework.security.web.access.intercept.AuthorizationFilter@14c49bcd]
2025-05-12 20:52:11 INFO  c.g.l.LibraryManagementSystemApplicationTests - Started LibraryManagementSystemApplicationTests in 1.15 seconds (process running for 18.031)
2025-05-12 20:52:11 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.BorrowingControllerIntegrationTest]: BorrowingControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-12 20:52:11 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.BorrowingControllerIntegrationTest
2025-05-12 20:52:11 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:52:11 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Starting BorrowingControllerIntegrationTest using Java 21.0.7 with PID 9144 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:52:11 INFO  c.g.l.i.BorrowingControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 20:52:11 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:52:12 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 3 JPA repository interfaces.
2025-05-12 20:52:12 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:52:12 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:52:12 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:52:12 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-05-12 20:52:12 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection conn55: url=jdbc:h2:mem:testdb user=SA
2025-05-12 20:52:12 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-05-12 20:52:12 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 20:52:12 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:52:12 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:12 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:52:12 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1e575053, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13bbc985, org.springframework.security.web.context.SecurityContextHolderFilter@4dbeb18a, org.springframework.security.web.header.HeaderWriterFilter@e2e1453, org.springframework.web.filter.CorsFilter@64079f10, org.springframework.security.web.authentication.logout.LogoutFilter@7b7ec3e7, com.getir.library_management_system.security.JwtAuthenticationFilter@5be39e00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10b376cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d061f8d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22629c25, org.springframework.security.web.access.ExceptionTranslationFilter@26416b23, org.springframework.security.web.access.intercept.AuthorizationFilter@7d877489]
2025-05-12 20:52:12 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 20:52:12 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:52:12 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:52:12 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-12 20:52:12 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Started BorrowingControllerIntegrationTest in 0.835 seconds (process running for 19.257)
2025-05-12 20:52:12 INFO  c.g.l.controller.BorrowingController - Fetching borrowing history for user ID 1
2025-05-12 20:52:12 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching borrowing history for user ID: 1
2025-05-12 20:52:12 INFO  c.g.l.controller.BorrowingController - Fetching all borrowings (Librarian access)
2025-05-12 20:52:12 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching all borrowing records
2025-05-12 20:52:12 INFO  c.g.l.controller.BorrowingController - User 3 is attempting to borrow book with ID 3
2025-05-12 20:52:12 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 3 is attempting to borrow book 3
2025-05-12 20:52:12 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 3 marked as unavailable
2025-05-12 20:52:12 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing created with ID: 1
2025-05-12 20:52:12 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=3, title=Test Book, stock=4)
2025-05-12 20:52:12 INFO  c.g.l.controller.BorrowingController - Book borrowed successfully with borrowing ID 1
2025-05-12 20:52:12 INFO  c.g.l.controller.BorrowingController - Returning book for borrowing ID 1
2025-05-12 20:52:12 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 1
2025-05-12 20:52:12 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 3 marked as available
2025-05-12 20:52:12 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing 1 marked as returned
2025-05-12 20:52:12 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=3, title=Test Book, stock=5)
2025-05-12 20:52:12 INFO  c.g.l.controller.BorrowingController - Book returned successfully for borrowing ID 1
2025-05-12 20:52:12 INFO  c.g.l.controller.BorrowingController - Fetching overdue borrowings
2025-05-12 20:52:12 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching overdue borrowings
2025-05-12 20:52:12 INFO  c.g.l.controller.BorrowingController - Fetching detailed overdue book list
2025-05-12 20:52:12 INFO  c.g.l.s.impl.BorrowingServiceImpl - Checking for overdue books as of 2025-05-12
2025-05-12 20:52:12 INFO  c.g.l.controller.BorrowingController - Generating overdue book report
2025-05-12 20:52:13 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.UserControllerIntegrationTest]: UserControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-12 20:52:13 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.UserControllerIntegrationTest
2025-05-12 20:52:13 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 20:52:13 INFO  c.g.l.i.UserControllerIntegrationTest - Starting UserControllerIntegrationTest using Java 21.0.7 with PID 9144 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 20:52:13 INFO  c.g.l.i.UserControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 20:52:13 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 20:52:13 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 3 JPA repository interfaces.
2025-05-12 20:52:13 INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-05-12 20:52:13 INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:daab2a89-1b02-4615-99b4-bcd778a81803;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-05-12 20:52:13 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 20:52:13 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 20:52:13 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 20:52:13 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 20:52:13 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 20:52:13 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:13 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 20:52:13 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44860c24, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@157b8af2, org.springframework.security.web.context.SecurityContextHolderFilter@746d6fc7, org.springframework.security.web.header.HeaderWriterFilter@7d4e7683, org.springframework.web.filter.CorsFilter@6408ce3c, org.springframework.security.web.authentication.logout.LogoutFilter@d3b82e4, com.getir.library_management_system.security.JwtAuthenticationFilter@283beaba, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@111e54b2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c434357, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ea40f83, org.springframework.security.web.access.ExceptionTranslationFilter@6b3ccd93, org.springframework.security.web.access.intercept.AuthorizationFilter@683c5345]
2025-05-12 20:52:14 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:daab2a89-1b02-4615-99b4-bcd778a81803'
2025-05-12 20:52:14 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 20:52:14 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 20:52:14 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-12 20:52:14 INFO  c.g.l.i.UserControllerIntegrationTest - Started UserControllerIntegrationTest in 1.07 seconds (process running for 20.868)
2025-05-12 20:52:14 INFO  c.g.l.controller.UserController - Registering new user with email: jane@example.com
2025-05-12 20:52:14 INFO  c.g.l.service.impl.UserServiceImpl - Registering new user with email: jane@example.com
2025-05-12 20:52:14 INFO  c.g.l.service.impl.UserServiceImpl - User registered successfully with ID: 2
2025-05-12 20:52:14 INFO  c.g.l.controller.UserController - User registered successfully with id: 2
2025-05-12 20:52:14 INFO  c.g.l.controller.UserController - Updating user with id: 3
2025-05-12 20:52:14 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 3
2025-05-12 20:52:14 INFO  c.g.l.service.impl.UserServiceImpl - User updated successfully with ID: 3
2025-05-12 20:52:14 WARN  c.g.l.controller.UserController - Deleting user with id: 4
2025-05-12 20:52:14 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 4
2025-05-12 20:52:14 INFO  c.g.l.service.impl.UserServiceImpl - User deleted successfully with ID: 4
2025-05-12 20:52:14 INFO  c.g.l.controller.UserController - Fetching user with id: 5
2025-05-12 20:52:14 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 5
2025-05-12 20:52:14 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Title
2025-05-12 20:52:14 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 20:52:14 INFO  c.g.l.service.impl.BookServiceImpl - Searching books with keyword: java
2025-05-12 20:52:14 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-12 20:52:14 WARN  c.g.l.service.impl.BookServiceImpl - Cannot delete. Book not found with ID: 1
2025-05-12 20:52:14 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-12 20:52:14 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-12 20:52:14 INFO  c.g.l.service.impl.BookServiceImpl - Book found: Sample
2025-05-12 20:52:14 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-12 20:52:14 INFO  c.g.l.service.impl.BookServiceImpl - Book deleted with ID: 1
2025-05-12 20:52:14 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-12 20:52:14 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 1
2025-05-12 20:52:14 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-12 20:52:14 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-12 20:52:14 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-12 20:52:14 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-12 20:52:14 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: john@example.com
2025-05-12 20:52:14 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: john@example.com
2025-05-12 20:52:14 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: notfound@example.com
2025-05-12 20:52:14 WARN  c.g.l.s.CustomUserDetailsService - User not found with email: notfound@example.com
2025-05-12 20:52:14 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:14 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:14 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-05-12 20:52:14 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-05-12 20:52:14 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:52:14 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-05-12 20:52:14 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-05-12 20:52:14 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 20:54:01 INFO  c.g.l.controller.AuthController - Login attempt for email: admin@getir.com
2025-05-12 20:54:01 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: admin@getir.com
2025-05-12 20:54:01 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: admin@getir.com
2025-05-12 20:54:02 INFO  c.g.l.controller.AuthController - Authentication successful for email: admin@getir.com
2025-05-12 21:00:03 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: admin@getir.com
2025-05-12 21:00:03 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: admin@getir.com
2025-05-12 21:00:03 INFO  c.g.l.controller.BookController - Updating book with ID: 4
2025-05-12 21:00:03 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 4
2025-05-12 21:00:03 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.getir.library_management_system.exception.BusinessException: ISBN cannot be changed.]
2025-05-12 21:00:15 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: admin@getir.com
2025-05-12 21:00:15 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: admin@getir.com
2025-05-12 21:00:15 INFO  c.g.l.controller.BookController - Updating book with ID: 4
2025-05-12 21:00:15 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 4
2025-05-12 21:00:15 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 4
2025-05-12 21:00:35 INFO  c.g.l.controller.AuthController - Login attempt for email: baha@getir.com
2025-05-12 21:00:35 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: baha@getir.com
2025-05-12 21:00:35 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: baha@getir.com
2025-05-12 21:00:36 INFO  c.g.l.controller.AuthController - Authentication successful for email: baha@getir.com
2025-05-12 21:01:00 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: baha@getir.com
2025-05-12 21:01:00 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: baha@getir.com
2025-05-12 21:01:00 INFO  c.g.l.controller.BorrowingController - User 3 is attempting to borrow book with ID 5
2025-05-12 21:01:00 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 3 is attempting to borrow book 5
2025-05-12 21:01:00 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.getir.library_management_system.exception.BusinessException: User has overdue books and cannot borrow new ones.]
2025-05-12 21:01:13 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: baha@getir.com
2025-05-12 21:01:13 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: baha@getir.com
2025-05-12 21:01:13 INFO  c.g.l.controller.BorrowingController - User 4 is attempting to borrow book with ID 5
2025-05-12 21:01:13 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 4 is attempting to borrow book 5
2025-05-12 21:01:13 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.getir.library_management_system.exception.BusinessException: You have already borrowed this book.]
2025-05-12 21:01:21 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: baha@getir.com
2025-05-12 21:01:21 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: baha@getir.com
2025-05-12 21:01:21 INFO  c.g.l.controller.BorrowingController - User 4 is attempting to borrow book with ID 2
2025-05-12 21:01:21 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 4 is attempting to borrow book 2
2025-05-12 21:01:21 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 2 marked as unavailable
2025-05-12 21:01:21 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing created with ID: 4
2025-05-12 21:01:21 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=2, title=To Kill a Mockingbird, stock=1)
2025-05-12 21:01:21 INFO  c.g.l.controller.BorrowingController - Book borrowed successfully with borrowing ID 4
2025-05-12 21:03:19 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-12 21:03:19 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 9382 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 21:03:19 INFO  c.g.l.i.BookControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 21:03:23 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 21:03:24 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 807 ms. Found 3 JPA repository interfaces.
2025-05-12 21:03:26 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 21:03:26 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-12 21:03:26 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 21:03:26 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 21:03:27 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-12 21:03:28 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-05-12 21:03:28 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-12 21:03:28 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 21:03:31 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 21:03:31 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:03:33 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-12 21:03:36 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 21:03:38 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@77ecb0e4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14de01d7, org.springframework.security.web.context.SecurityContextHolderFilter@65542019, org.springframework.security.web.header.HeaderWriterFilter@a70b227, org.springframework.web.filter.CorsFilter@36bc1a1e, org.springframework.security.web.authentication.logout.LogoutFilter@6f0e7ccd, com.getir.library_management_system.security.JwtAuthenticationFilter@1cd79910, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f96254, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d9f529c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d1e4ab6, org.springframework.security.web.access.ExceptionTranslationFilter@501a69b5, org.springframework.security.web.access.intercept.AuthorizationFilter@46cc818b]
2025-05-12 21:03:40 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 21:03:41 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 21:03:41 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 21:03:41 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 7 ms
2025-05-12 21:03:41 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 23.806 seconds (process running for 32.922)
2025-05-12 21:03:42 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 21:03:42 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 21:03:43 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 21:03:43 INFO  c.g.l.controller.BookController - Book created with ID: 1
2025-05-12 21:03:43 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:03:43 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-12 21:03:43 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-12 21:03:43 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 21:03:43 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 9382 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 21:03:43 INFO  c.g.l.i.BookControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 21:03:44 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 21:03:44 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-05-12 21:03:44 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 21:03:44 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 21:03:44 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 21:03:44 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-05-12 21:03:44 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:testdb user=SA
2025-05-12 21:03:44 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-05-12 21:03:44 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 21:03:45 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 21:03:45 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:03:45 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 21:03:46 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@554bbbf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@693e4057, org.springframework.security.web.context.SecurityContextHolderFilter@45c4b962, org.springframework.security.web.header.HeaderWriterFilter@564e6e60, org.springframework.web.filter.CorsFilter@1ee6dfff, org.springframework.security.web.authentication.logout.LogoutFilter@342b05bf, com.getir.library_management_system.security.JwtAuthenticationFilter@500ff613, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4873d999, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71dce4c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d77c123, org.springframework.security.web.access.ExceptionTranslationFilter@3701d2ec, org.springframework.security.web.access.intercept.AuthorizationFilter@742ef78f]
2025-05-12 21:03:46 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 21:03:46 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 21:03:46 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 21:03:46 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-12 21:03:46 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 2.64 seconds (process running for 37.558)
2025-05-12 21:03:46 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 21:03:46 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 21:03:46 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 21:03:46 INFO  c.g.l.controller.BookController - Book created with ID: 1
2025-05-12 21:03:46 INFO  c.g.l.controller.BookController - Fetching book details for ID: 1
2025-05-12 21:03:46 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-12 21:03:46 INFO  c.g.l.service.impl.BookServiceImpl - Book found: Test Book
2025-05-12 21:03:46 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:03:46 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-05-12 21:03:46 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-05-12 21:03:47 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 21:03:47 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 9382 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 21:03:47 INFO  c.g.l.i.BookControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 21:03:47 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 21:03:47 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
2025-05-12 21:03:48 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 21:03:48 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 21:03:48 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 21:03:48 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-05-12 21:03:48 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:testdb user=SA
2025-05-12 21:03:48 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-05-12 21:03:48 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 21:03:48 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 21:03:48 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:03:48 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 21:03:48 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@798f95e8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6fdb656a, org.springframework.security.web.context.SecurityContextHolderFilter@5ec988e7, org.springframework.security.web.header.HeaderWriterFilter@34869565, org.springframework.web.filter.CorsFilter@b7d01ba, org.springframework.security.web.authentication.logout.LogoutFilter@44aa5d1e, com.getir.library_management_system.security.JwtAuthenticationFilter@424a97e1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d3d8b10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@561bf394, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1019b27c, org.springframework.security.web.access.ExceptionTranslationFilter@69dba11, org.springframework.security.web.access.intercept.AuthorizationFilter@1c10fdf4]
2025-05-12 21:03:49 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 21:03:49 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 21:03:49 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 21:03:49 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 18 ms
2025-05-12 21:03:50 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 2.863 seconds (process running for 41.064)
2025-05-12 21:03:50 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 21:03:50 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 21:03:50 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 21:03:50 INFO  c.g.l.controller.BookController - Book created with ID: 1
2025-05-12 21:03:50 INFO  c.g.l.controller.BookController - Updating book with ID: 1
2025-05-12 21:03:50 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-12 21:03:50 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 1
2025-05-12 21:03:50 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:03:50 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-05-12 21:03:50 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-05-12 21:03:51 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 21:03:51 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 9382 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 21:03:51 INFO  c.g.l.i.BookControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 21:03:51 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 21:03:52 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 JPA repository interfaces.
2025-05-12 21:03:52 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 21:03:52 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 21:03:52 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 21:03:52 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-05-12 21:03:52 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection conn30: url=jdbc:h2:mem:testdb user=SA
2025-05-12 21:03:52 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-05-12 21:03:52 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 21:03:52 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 21:03:52 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:03:53 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 21:03:54 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@723ba761, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@762ade83, org.springframework.security.web.context.SecurityContextHolderFilter@3d9a4b2a, org.springframework.security.web.header.HeaderWriterFilter@69e3800a, org.springframework.web.filter.CorsFilter@7dbec2dd, org.springframework.security.web.authentication.logout.LogoutFilter@1a43cad7, com.getir.library_management_system.security.JwtAuthenticationFilter@3bda21b2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@56bf54e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@793f9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d29535a, org.springframework.security.web.access.ExceptionTranslationFilter@65a195d, org.springframework.security.web.access.intercept.AuthorizationFilter@7fbbf189]
2025-05-12 21:03:54 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 21:03:55 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 21:03:55 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 21:03:55 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-12 21:03:55 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 4.299 seconds (process running for 46.58)
2025-05-12 21:03:55 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-12 21:03:56 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-12 21:03:56 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 21:03:56 INFO  c.g.l.controller.BookController - Book created with ID: 1
2025-05-12 21:03:56 INFO  c.g.l.controller.BookController - Deleting book with ID: 1
2025-05-12 21:03:56 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-12 21:03:56 INFO  c.g.l.service.impl.BookServiceImpl - Book deleted with ID: 1
2025-05-12 21:03:56 INFO  c.g.l.controller.BookController - Fetching book details for ID: 1
2025-05-12 21:03:56 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-12 21:03:56 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-12 21:03:56 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:03:56 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-05-12 21:03:56 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-05-12 21:03:57 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 21:03:58 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 9382 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 21:03:58 INFO  c.g.l.i.BookControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 21:03:59 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 21:03:59 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-05-12 21:03:59 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 21:03:59 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 21:03:59 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 21:03:59 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-05-12 21:03:59 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection conn40: url=jdbc:h2:mem:testdb user=SA
2025-05-12 21:03:59 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-05-12 21:03:59 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 21:03:59 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 21:03:59 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:04:00 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 21:04:00 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58a1a58, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ff979f3, org.springframework.security.web.context.SecurityContextHolderFilter@520be260, org.springframework.security.web.header.HeaderWriterFilter@5aed8831, org.springframework.web.filter.CorsFilter@60ba0a2d, org.springframework.security.web.authentication.logout.LogoutFilter@30ef4ad0, com.getir.library_management_system.security.JwtAuthenticationFilter@5b65388c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a3592a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@be01ab0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31262689, org.springframework.security.web.access.ExceptionTranslationFilter@fffcb7d, org.springframework.security.web.access.intercept.AuthorizationFilter@6da78d4e]
2025-05-12 21:04:00 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 21:04:01 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 21:04:01 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 21:04:01 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-12 21:04:01 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 3.169 seconds (process running for 52.122)
2025-05-12 21:04:01 INFO  c.g.l.controller.BookController - Request to create a new book: Book 0
2025-05-12 21:04:01 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 0
2025-05-12 21:04:01 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 21:04:01 INFO  c.g.l.controller.BookController - Book created with ID: 1
2025-05-12 21:04:01 INFO  c.g.l.controller.BookController - Request to create a new book: Book 1
2025-05-12 21:04:01 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 1
2025-05-12 21:04:01 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 2
2025-05-12 21:04:01 INFO  c.g.l.controller.BookController - Book created with ID: 2
2025-05-12 21:04:01 INFO  c.g.l.controller.BookController - Request to create a new book: Book 2
2025-05-12 21:04:01 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 2
2025-05-12 21:04:01 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 3
2025-05-12 21:04:01 INFO  c.g.l.controller.BookController - Book created with ID: 3
2025-05-12 21:04:01 INFO  c.g.l.controller.BookController - Request to create a new book: Book 3
2025-05-12 21:04:01 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 3
2025-05-12 21:04:01 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 4
2025-05-12 21:04:01 INFO  c.g.l.controller.BookController - Book created with ID: 4
2025-05-12 21:04:01 INFO  c.g.l.controller.BookController - Request to create a new book: Book 4
2025-05-12 21:04:01 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 4
2025-05-12 21:04:01 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 5
2025-05-12 21:04:01 INFO  c.g.l.controller.BookController - Book created with ID: 5
2025-05-12 21:04:01 INFO  c.g.l.controller.BookController - Searching books with keyword: 'Book', page: 0, size: 5
2025-05-12 21:04:01 INFO  c.g.l.service.impl.BookServiceImpl - Searching books with keyword: Book
2025-05-12 21:04:01 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:04:01 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-05-12 21:04:01 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-05-12 21:04:01 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.AuthControllerIntegrationTest]: AuthControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-12 21:04:01 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.AuthControllerIntegrationTest
2025-05-12 21:04:01 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 21:04:01 INFO  c.g.l.i.AuthControllerIntegrationTest - Starting AuthControllerIntegrationTest using Java 21.0.7 with PID 9382 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 21:04:01 INFO  c.g.l.i.AuthControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 21:04:02 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 21:04:02 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 3 JPA repository interfaces.
2025-05-12 21:04:02 INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-05-12 21:04:03 INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:9bcd008e-d72b-460a-b2ae-75b76d0deea9;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-05-12 21:04:03 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 21:04:03 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 21:04:03 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 21:04:03 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 21:04:03 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 21:04:03 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:04:03 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 21:04:04 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@65a71b35, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25062bc, org.springframework.security.web.context.SecurityContextHolderFilter@544e4ec6, org.springframework.security.web.header.HeaderWriterFilter@1c77dc80, org.springframework.web.filter.CorsFilter@781bc78d, org.springframework.security.web.authentication.logout.LogoutFilter@16be25d8, com.getir.library_management_system.security.JwtAuthenticationFilter@75e85a26, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@62f72888, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1211286a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50d64abe, org.springframework.security.web.access.ExceptionTranslationFilter@49473a36, org.springframework.security.web.access.intercept.AuthorizationFilter@561fdf57]
2025-05-12 21:04:04 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:9bcd008e-d72b-460a-b2ae-75b76d0deea9'
2025-05-12 21:04:04 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 21:04:04 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 21:04:04 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-12 21:04:04 INFO  c.g.l.i.AuthControllerIntegrationTest - Started AuthControllerIntegrationTest in 2.881 seconds (process running for 55.826)
2025-05-12 21:04:04 INFO  c.g.l.controller.AuthController - Login attempt for email: user@example.com
2025-05-12 21:04:04 WARN  c.g.l.controller.AuthController - Authentication failed for email: user@example.com
2025-05-12 21:04:05 INFO  c.g.l.controller.AuthController - Login attempt for email: user@example.com
2025-05-12 21:04:05 INFO  c.g.l.controller.AuthController - Authentication successful for email: user@example.com
2025-05-12 21:04:05 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 1
2025-05-12 21:04:05 INFO  c.g.l.service.impl.UserServiceImpl - User deleted successfully with ID: 1
2025-05-12 21:04:05 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 1
2025-05-12 21:04:05 INFO  c.g.l.service.impl.UserServiceImpl - User updated successfully with ID: 1
2025-05-12 21:04:05 INFO  c.g.l.service.impl.UserServiceImpl - Registering new user with email: john@example.com
2025-05-12 21:04:05 INFO  c.g.l.service.impl.UserServiceImpl - User registered successfully with ID: null
2025-05-12 21:04:05 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 1
2025-05-12 21:04:05 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 1
2025-05-12 21:04:05 WARN  c.g.l.service.impl.UserServiceImpl - User not found for deletion with ID: 1
2025-05-12 21:04:05 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 1
2025-05-12 21:04:05 WARN  c.g.l.service.impl.UserServiceImpl - User not found for update with ID: 1
2025-05-12 21:04:05 WARN  c.g.l.service.impl.UserServiceImpl - loadUserByUsername() not implemented. Username: any
2025-05-12 21:04:05 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 1
2025-05-12 21:04:05 WARN  c.g.l.service.impl.UserServiceImpl - User not found with ID: 1
2025-05-12 21:04:05 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=1, title=Sample Title, stock=5)
2025-05-12 21:04:06 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.LibraryManagementSystemApplicationTests]: LibraryManagementSystemApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-12 21:04:06 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.LibraryManagementSystemApplicationTests
2025-05-12 21:04:06 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 21:04:06 INFO  c.g.l.LibraryManagementSystemApplicationTests - Starting LibraryManagementSystemApplicationTests using Java 21.0.7 with PID 9382 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 21:04:06 INFO  c.g.l.LibraryManagementSystemApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-05-12 21:04:06 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 21:04:06 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 3 JPA repository interfaces.
2025-05-12 21:04:06 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 21:04:06 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 21:04:06 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 21:04:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-05-12 21:04:07 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@7e2570f1
2025-05-12 21:04:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-05-12 21:04:07 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 21:04:08 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:04:08 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 21:04:08 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@179549bc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a001c8f, org.springframework.security.web.context.SecurityContextHolderFilter@d0351f1, org.springframework.security.web.header.HeaderWriterFilter@1e55be0d, org.springframework.web.filter.CorsFilter@4064e8e8, org.springframework.security.web.authentication.logout.LogoutFilter@4a32ff4e, com.getir.library_management_system.security.JwtAuthenticationFilter@395dd8cd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4293f1f5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ebfcfdf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556eb811, org.springframework.security.web.access.ExceptionTranslationFilter@1e3656de, org.springframework.security.web.access.intercept.AuthorizationFilter@72247a2]
2025-05-12 21:04:09 INFO  c.g.l.LibraryManagementSystemApplicationTests - Started LibraryManagementSystemApplicationTests in 3.289 seconds (process running for 60.344)
2025-05-12 21:04:10 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.BorrowingControllerIntegrationTest]: BorrowingControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-12 21:04:10 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.BorrowingControllerIntegrationTest
2025-05-12 21:04:10 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 21:04:10 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Starting BorrowingControllerIntegrationTest using Java 21.0.7 with PID 9382 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 21:04:10 INFO  c.g.l.i.BorrowingControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 21:04:11 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 21:04:11 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 3 JPA repository interfaces.
2025-05-12 21:04:11 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 21:04:11 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 21:04:11 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 21:04:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-05-12 21:04:11 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection conn55: url=jdbc:h2:mem:testdb user=SA
2025-05-12 21:04:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-05-12 21:04:11 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 21:04:11 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 21:04:11 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:04:12 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 21:04:12 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@42fb7344, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f4fdbb7, org.springframework.security.web.context.SecurityContextHolderFilter@5eebfd79, org.springframework.security.web.header.HeaderWriterFilter@7fb110f1, org.springframework.web.filter.CorsFilter@573fcf15, org.springframework.security.web.authentication.logout.LogoutFilter@5950185, com.getir.library_management_system.security.JwtAuthenticationFilter@10d9c5d3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fee40d5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@73558458, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71d9c0a9, org.springframework.security.web.access.ExceptionTranslationFilter@28528aaa, org.springframework.security.web.access.intercept.AuthorizationFilter@6768250e]
2025-05-12 21:04:12 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2025-05-12 21:04:12 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 21:04:12 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 21:04:12 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-12 21:04:12 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Started BorrowingControllerIntegrationTest in 2.233 seconds (process running for 64.029)
2025-05-12 21:04:13 INFO  c.g.l.controller.BorrowingController - Fetching borrowing history for user ID 1
2025-05-12 21:04:13 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching borrowing history for user ID: 1
2025-05-12 21:04:13 INFO  c.g.l.controller.BorrowingController - Fetching all borrowings (Librarian access)
2025-05-12 21:04:13 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching all borrowing records
2025-05-12 21:04:13 INFO  c.g.l.controller.BorrowingController - User 3 is attempting to borrow book with ID 3
2025-05-12 21:04:13 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 3 is attempting to borrow book 3
2025-05-12 21:04:13 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 3 marked as unavailable
2025-05-12 21:04:13 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing created with ID: 1
2025-05-12 21:04:13 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=3, title=Test Book, stock=4)
2025-05-12 21:04:13 INFO  c.g.l.controller.BorrowingController - Book borrowed successfully with borrowing ID 1
2025-05-12 21:04:13 INFO  c.g.l.controller.BorrowingController - Returning book for borrowing ID 1
2025-05-12 21:04:13 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 1
2025-05-12 21:04:13 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 3 marked as available
2025-05-12 21:04:13 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing 1 marked as returned
2025-05-12 21:04:13 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=3, title=Test Book, stock=5)
2025-05-12 21:04:13 INFO  c.g.l.controller.BorrowingController - Book returned successfully for borrowing ID 1
2025-05-12 21:04:14 INFO  c.g.l.controller.BorrowingController - Fetching overdue borrowings
2025-05-12 21:04:14 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching overdue borrowings
2025-05-12 21:04:14 INFO  c.g.l.controller.BorrowingController - Fetching detailed overdue book list
2025-05-12 21:04:14 INFO  c.g.l.s.impl.BorrowingServiceImpl - Checking for overdue books as of 2025-05-12
2025-05-12 21:04:14 INFO  c.g.l.controller.BorrowingController - Generating overdue book report
2025-05-12 21:04:15 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.UserControllerIntegrationTest]: UserControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-12 21:04:15 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.UserControllerIntegrationTest
2025-05-12 21:04:15 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-12 21:04:15 INFO  c.g.l.i.UserControllerIntegrationTest - Starting UserControllerIntegrationTest using Java 21.0.7 with PID 9382 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-12 21:04:15 INFO  c.g.l.i.UserControllerIntegrationTest - The following 1 profile is active: "test"
2025-05-12 21:04:16 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-12 21:04:16 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.
2025-05-12 21:04:16 INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-05-12 21:04:16 INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:19b7ea72-8db9-417c-a72a-1101c703c75e;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-05-12 21:04:16 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-12 21:04:16 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-12 21:04:16 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-12 21:04:16 WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-12 21:04:17 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-12 21:04:17 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:04:17 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-12 21:04:17 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@55c9ee95, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34d9494e, org.springframework.security.web.context.SecurityContextHolderFilter@16ccd553, org.springframework.security.web.header.HeaderWriterFilter@66f587c0, org.springframework.web.filter.CorsFilter@245ee41a, org.springframework.security.web.authentication.logout.LogoutFilter@60103c2e, com.getir.library_management_system.security.JwtAuthenticationFilter@2a1220a8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1cdd311e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a075227, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@638f7c93, org.springframework.security.web.access.ExceptionTranslationFilter@127a8cde, org.springframework.security.web.access.intercept.AuthorizationFilter@75c64a08]
2025-05-12 21:04:18 INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:19b7ea72-8db9-417c-a72a-1101c703c75e'
2025-05-12 21:04:18 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-12 21:04:18 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-12 21:04:18 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-12 21:04:18 INFO  c.g.l.i.UserControllerIntegrationTest - Started UserControllerIntegrationTest in 2.304 seconds (process running for 69.264)
2025-05-12 21:04:18 INFO  c.g.l.controller.UserController - Registering new user with email: jane@example.com
2025-05-12 21:04:18 INFO  c.g.l.service.impl.UserServiceImpl - Registering new user with email: jane@example.com
2025-05-12 21:04:18 INFO  c.g.l.service.impl.UserServiceImpl - User registered successfully with ID: 2
2025-05-12 21:04:18 INFO  c.g.l.controller.UserController - User registered successfully with id: 2
2025-05-12 21:04:19 INFO  c.g.l.controller.UserController - Updating user with id: 3
2025-05-12 21:04:19 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 3
2025-05-12 21:04:19 INFO  c.g.l.service.impl.UserServiceImpl - User updated successfully with ID: 3
2025-05-12 21:04:19 WARN  c.g.l.controller.UserController - Deleting user with id: 4
2025-05-12 21:04:19 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 4
2025-05-12 21:04:19 INFO  c.g.l.service.impl.UserServiceImpl - User deleted successfully with ID: 4
2025-05-12 21:04:19 INFO  c.g.l.controller.UserController - Fetching user with id: 5
2025-05-12 21:04:19 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 5
2025-05-12 21:04:20 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Title
2025-05-12 21:04:20 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-12 21:04:20 INFO  c.g.l.service.impl.BookServiceImpl - Searching books with keyword: java
2025-05-12 21:04:20 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-12 21:04:20 WARN  c.g.l.service.impl.BookServiceImpl - Cannot delete. Book not found with ID: 1
2025-05-12 21:04:20 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-12 21:04:20 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-12 21:04:20 INFO  c.g.l.service.impl.BookServiceImpl - Book found: Sample
2025-05-12 21:04:20 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-12 21:04:20 INFO  c.g.l.service.impl.BookServiceImpl - Book deleted with ID: 1
2025-05-12 21:04:21 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-12 21:04:21 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 1
2025-05-12 21:04:21 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-12 21:04:21 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-12 21:04:21 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-12 21:04:21 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-12 21:04:21 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: john@example.com
2025-05-12 21:04:21 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: john@example.com
2025-05-12 21:04:21 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: notfound@example.com
2025-05-12 21:04:21 WARN  c.g.l.s.CustomUserDetailsService - User not found with email: notfound@example.com
2025-05-12 21:04:21 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:04:21 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:04:21 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-05-12 21:04:21 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-05-12 21:04:21 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:04:21 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-05-12 21:04:21 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-05-12 21:04:21 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:05:40 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-12 21:05:40 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-05-12 21:05:40 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
