2025-05-10 00:01:17 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-10 00:01:17 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Starting BorrowingControllerIntegrationTest using Java 21.0.7 with PID 14975 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:01:17 INFO  c.g.l.i.BorrowingControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:01:18 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:01:19 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 255 ms. Found 3 JPA repository interfaces.
2025-05-10 00:01:19 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:01:19 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-10 00:01:19 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:01:20 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:01:20 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-10 00:01:20 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@521c67f0
2025-05-10 00:01:20 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-10 00:01:21 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:01:22 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:01:22 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-10 00:01:23 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:01:24 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@252bc7ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@279c94ad, org.springframework.security.web.context.SecurityContextHolderFilter@3e492199, org.springframework.security.web.header.HeaderWriterFilter@57064d38, org.springframework.web.filter.CorsFilter@53eb4ef5, org.springframework.security.web.authentication.logout.LogoutFilter@7118a1b9, com.getir.library_management_system.security.JwtAuthenticationFilter@1b18fa79, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@402ecbc7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f53e863, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b3b0896, org.springframework.security.web.access.ExceptionTranslationFilter@7d5238b4, org.springframework.security.web.access.intercept.AuthorizationFilter@c21c296]
2025-05-10 00:01:24 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:01:24 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:01:24 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-10 00:01:24 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Started BorrowingControllerIntegrationTest in 7.904 seconds (process running for 9.563)
2025-05-10 00:01:25 INFO  c.g.l.controller.BorrowingController - Fetching borrowing history for user ID 10
2025-05-10 00:01:25 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching borrowing history for user ID: 10
2025-05-10 00:01:26 INFO  c.g.l.controller.BorrowingController - Fetching all borrowings (Librarian access)
2025-05-10 00:01:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching all borrowing records
2025-05-10 00:01:26 INFO  c.g.l.controller.BorrowingController - User 12 is attempting to borrow book with ID 71
2025-05-10 00:01:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 12 is attempting to borrow book 71
2025-05-10 00:01:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 71 marked as unavailable
2025-05-10 00:01:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing created with ID: 3
2025-05-10 00:01:26 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=71, title=Test Book, stock=4)
2025-05-10 00:01:26 INFO  c.g.l.controller.BorrowingController - Book borrowed successfully with borrowing ID 3
2025-05-10 00:01:26 INFO  c.g.l.controller.BorrowingController - Fetching overdue borrowings
2025-05-10 00:01:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching overdue borrowings
2025-05-10 00:01:26 INFO  c.g.l.controller.BorrowingController - Fetching detailed overdue book list
2025-05-10 00:01:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - Checking for overdue books as of 2025-05-10
2025-05-10 00:01:26 INFO  c.g.l.controller.BorrowingController - Generating overdue book report
2025-05-10 00:01:26 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:01:26 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-10 00:01:26 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-10 00:04:19 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-10 00:04:19 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Starting BorrowingControllerIntegrationTest using Java 21.0.7 with PID 15085 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:04:19 INFO  c.g.l.i.BorrowingControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:04:20 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:04:20 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 238 ms. Found 3 JPA repository interfaces.
2025-05-10 00:04:22 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:04:22 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-10 00:04:22 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:04:22 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:04:22 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-10 00:04:22 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@32d1d6c5
2025-05-10 00:04:22 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-10 00:04:24 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:04:24 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:04:25 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-10 00:04:26 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:04:26 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@41e5038a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75630d9e, org.springframework.security.web.context.SecurityContextHolderFilter@9dc9212, org.springframework.security.web.header.HeaderWriterFilter@4552f89f, org.springframework.web.filter.CorsFilter@257ba195, org.springframework.security.web.authentication.logout.LogoutFilter@50931911, com.getir.library_management_system.security.JwtAuthenticationFilter@74471600, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c175d82, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@133acad0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a9d6f5d, org.springframework.security.web.access.ExceptionTranslationFilter@300cdf3f, org.springframework.security.web.access.intercept.AuthorizationFilter@616549c]
2025-05-10 00:04:27 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:04:27 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:04:27 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-10 00:04:27 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Started BorrowingControllerIntegrationTest in 8.596 seconds (process running for 10.328)
2025-05-10 00:04:28 INFO  c.g.l.controller.BorrowingController - Fetching borrowing history for user ID 14
2025-05-10 00:04:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching borrowing history for user ID: 14
2025-05-10 00:04:28 INFO  c.g.l.controller.BorrowingController - Fetching all borrowings (Librarian access)
2025-05-10 00:04:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching all borrowing records
2025-05-10 00:04:28 INFO  c.g.l.controller.BorrowingController - User 16 is attempting to borrow book with ID 75
2025-05-10 00:04:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 16 is attempting to borrow book 75
2025-05-10 00:04:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 75 marked as unavailable
2025-05-10 00:04:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing created with ID: 4
2025-05-10 00:04:28 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=75, title=Test Book, stock=4)
2025-05-10 00:04:28 INFO  c.g.l.controller.BorrowingController - Book borrowed successfully with borrowing ID 4
2025-05-10 00:04:28 INFO  c.g.l.controller.BorrowingController - Returning book for borrowing ID 4
2025-05-10 00:04:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 4
2025-05-10 00:04:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 75 marked as available
2025-05-10 00:04:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing 4 marked as returned
2025-05-10 00:04:28 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=75, title=Test Book, stock=5)
2025-05-10 00:04:28 INFO  c.g.l.controller.BorrowingController - Book returned successfully for borrowing ID 4
2025-05-10 00:04:28 INFO  c.g.l.controller.BorrowingController - Fetching overdue borrowings
2025-05-10 00:04:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching overdue borrowings
2025-05-10 00:04:28 INFO  c.g.l.controller.BorrowingController - Fetching detailed overdue book list
2025-05-10 00:04:28 INFO  c.g.l.s.impl.BorrowingServiceImpl - Checking for overdue books as of 2025-05-10
2025-05-10 00:04:28 INFO  c.g.l.controller.BorrowingController - Generating overdue book report
2025-05-10 00:04:28 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:04:28 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-10 00:04:28 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-10 00:04:42 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-10 00:04:42 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Starting BorrowingControllerIntegrationTest using Java 21.0.7 with PID 15109 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:04:42 INFO  c.g.l.i.BorrowingControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:04:44 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:04:45 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 465 ms. Found 3 JPA repository interfaces.
2025-05-10 00:04:46 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:04:47 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-10 00:04:47 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:04:47 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:04:47 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-10 00:04:48 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5ddec92a
2025-05-10 00:04:48 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-10 00:04:51 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:04:51 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:04:52 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-10 00:04:54 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:04:55 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3d5d4555, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2bd649d0, org.springframework.security.web.context.SecurityContextHolderFilter@796553d4, org.springframework.security.web.header.HeaderWriterFilter@ef3c536, org.springframework.web.filter.CorsFilter@4c3f573, org.springframework.security.web.authentication.logout.LogoutFilter@17436b9, com.getir.library_management_system.security.JwtAuthenticationFilter@4ad94938, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bfeb6f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fb24144, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32b12368, org.springframework.security.web.access.ExceptionTranslationFilter@36b0fe6b, org.springframework.security.web.access.intercept.AuthorizationFilter@70acd638]
2025-05-10 00:04:57 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:04:57 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:04:57 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:04:57 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Started BorrowingControllerIntegrationTest in 16.596 seconds (process running for 20.32)
2025-05-10 00:04:59 INFO  c.g.l.controller.BorrowingController - Fetching borrowing history for user ID 18
2025-05-10 00:04:59 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching borrowing history for user ID: 18
2025-05-10 00:04:59 INFO  c.g.l.controller.BorrowingController - Fetching all borrowings (Librarian access)
2025-05-10 00:04:59 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching all borrowing records
2025-05-10 00:05:00 INFO  c.g.l.controller.BorrowingController - User 20 is attempting to borrow book with ID 79
2025-05-10 00:05:00 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 20 is attempting to borrow book 79
2025-05-10 00:05:00 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 79 marked as unavailable
2025-05-10 00:05:00 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing created with ID: 5
2025-05-10 00:05:00 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=79, title=Test Book, stock=4)
2025-05-10 00:05:00 INFO  c.g.l.controller.BorrowingController - Book borrowed successfully with borrowing ID 5
2025-05-10 00:05:00 INFO  c.g.l.controller.BorrowingController - Returning book for borrowing ID 5
2025-05-10 00:05:00 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 5
2025-05-10 00:05:00 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 79 marked as available
2025-05-10 00:05:00 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing 5 marked as returned
2025-05-10 00:05:00 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=79, title=Test Book, stock=5)
2025-05-10 00:05:00 INFO  c.g.l.controller.BorrowingController - Book returned successfully for borrowing ID 5
2025-05-10 00:05:00 INFO  c.g.l.controller.BorrowingController - Fetching overdue borrowings
2025-05-10 00:05:00 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching overdue borrowings
2025-05-10 00:05:00 INFO  c.g.l.controller.BorrowingController - Fetching detailed overdue book list
2025-05-10 00:05:00 INFO  c.g.l.s.impl.BorrowingServiceImpl - Checking for overdue books as of 2025-05-10
2025-05-10 00:05:00 INFO  c.g.l.controller.BorrowingController - Generating overdue book report
2025-05-10 00:05:01 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:05:01 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:05:01 WARN  c.g.l.s.impl.BorrowingServiceImpl - User not found with ID: 1
2025-05-10 00:05:02 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 1
2025-05-10 00:05:02 WARN  c.g.l.s.impl.BorrowingServiceImpl - Borrowing not found with ID: 1
2025-05-10 00:05:02 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:05:02 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:05:02 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:05:02 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 1 marked as unavailable
2025-05-10 00:05:02 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing created with ID: null
2025-05-10 00:05:02 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:05:02 INFO  c.g.l.s.impl.BorrowingServiceImpl - Checking for overdue books as of 2025-05-10
2025-05-10 00:05:02 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 1
2025-05-10 00:05:02 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 1 marked as available
2025-05-10 00:05:02 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing 1 marked as returned
2025-05-10 00:05:02 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 1
2025-05-10 00:05:02 WARN  c.g.l.s.impl.BorrowingServiceImpl - Borrowing ID 1 is not currently active
2025-05-10 00:05:02 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:05:02 WARN  c.g.l.s.impl.BorrowingServiceImpl - Book not found with ID: 1
2025-05-10 00:05:02 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching all borrowing records
2025-05-10 00:05:02 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching borrowing history for user ID: 1
2025-05-10 00:05:02 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching overdue borrowings
2025-05-10 00:05:02 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.BookControllerIntegrationTest]: BookControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-10 00:05:02 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.BookControllerIntegrationTest
2025-05-10 00:05:02 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:05:02 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:05:02 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 81
2025-05-10 00:05:02 INFO  c.g.l.controller.BookController - Book created with ID: 81
2025-05-10 00:05:02 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:05:02 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-10 00:05:02 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-10 00:05:03 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:05:03 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 15109 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:05:03 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:05:03 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:05:03 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 3 JPA repository interfaces.
2025-05-10 00:05:04 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:05:04 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:05:04 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:05:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-05-10 00:05:04 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@24d299b2
2025-05-10 00:05:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-05-10 00:05:04 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:05:04 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:05:05 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:05:05 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@223926bf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@720b4a4f, org.springframework.security.web.context.SecurityContextHolderFilter@53faa1e2, org.springframework.security.web.header.HeaderWriterFilter@26fd946d, org.springframework.web.filter.CorsFilter@13e72a70, org.springframework.security.web.authentication.logout.LogoutFilter@4f73f22d, com.getir.library_management_system.security.JwtAuthenticationFilter@70932d90, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@200048a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3141dad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50db215, org.springframework.security.web.access.ExceptionTranslationFilter@1732d4eb, org.springframework.security.web.access.intercept.AuthorizationFilter@6e8f0e6f]
2025-05-10 00:05:06 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:05:06 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:05:06 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:05:06 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 3.327 seconds (process running for 29.309)
2025-05-10 00:05:06 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:05:06 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:05:06 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 82
2025-05-10 00:05:06 INFO  c.g.l.controller.BookController - Book created with ID: 82
2025-05-10 00:05:06 INFO  c.g.l.controller.BookController - Fetching book details for ID: 82
2025-05-10 00:05:06 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 82
2025-05-10 00:05:06 INFO  c.g.l.service.impl.BookServiceImpl - Book found: Test Book
2025-05-10 00:05:06 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:05:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-05-10 00:05:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-05-10 00:05:06 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:05:06 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 15109 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:05:06 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:05:07 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:05:07 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 3 JPA repository interfaces.
2025-05-10 00:05:07 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:05:07 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:05:07 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:05:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-05-10 00:05:07 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@242b6175
2025-05-10 00:05:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-05-10 00:05:07 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:05:07 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:05:08 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:05:08 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f8da5c6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3bf5527a, org.springframework.security.web.context.SecurityContextHolderFilter@4703df58, org.springframework.security.web.header.HeaderWriterFilter@7ddf2178, org.springframework.web.filter.CorsFilter@5ca1c162, org.springframework.security.web.authentication.logout.LogoutFilter@60de8653, com.getir.library_management_system.security.JwtAuthenticationFilter@3fcab66, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d5ee071, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3dae5517, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b499445, org.springframework.security.web.access.ExceptionTranslationFilter@21243a8f, org.springframework.security.web.access.intercept.AuthorizationFilter@650041e2]
2025-05-10 00:05:09 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:05:09 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:05:09 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:05:09 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 2.238 seconds (process running for 31.974)
2025-05-10 00:05:09 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:05:09 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:05:09 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 83
2025-05-10 00:05:09 INFO  c.g.l.controller.BookController - Book created with ID: 83
2025-05-10 00:05:09 INFO  c.g.l.controller.BookController - Updating book with ID: 83
2025-05-10 00:05:09 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 83
2025-05-10 00:05:09 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 83
2025-05-10 00:05:09 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:05:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-05-10 00:05:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-05-10 00:05:09 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:05:09 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 15109 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:05:09 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:05:09 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:05:09 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 3 JPA repository interfaces.
2025-05-10 00:05:10 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:05:10 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:05:10 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:05:10 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-05-10 00:05:10 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@4c4e32b5
2025-05-10 00:05:10 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-05-10 00:05:10 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:05:10 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:05:10 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:05:11 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@33158a89, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@359df96f, org.springframework.security.web.context.SecurityContextHolderFilter@dd068cd, org.springframework.security.web.header.HeaderWriterFilter@746fe11a, org.springframework.web.filter.CorsFilter@1f0532ac, org.springframework.security.web.authentication.logout.LogoutFilter@2a15936f, com.getir.library_management_system.security.JwtAuthenticationFilter@7f493779, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@193d3ac8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f6152e4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c09665c, org.springframework.security.web.access.ExceptionTranslationFilter@4e6419a, org.springframework.security.web.access.intercept.AuthorizationFilter@7f5d8858]
2025-05-10 00:05:11 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:05:11 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:05:11 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:05:11 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 2.172 seconds (process running for 34.548)
2025-05-10 00:05:11 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:05:11 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:05:11 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 84
2025-05-10 00:05:11 INFO  c.g.l.controller.BookController - Book created with ID: 84
2025-05-10 00:05:11 INFO  c.g.l.controller.BookController - Deleting book with ID: 84
2025-05-10 00:05:11 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 84
2025-05-10 00:05:11 INFO  c.g.l.service.impl.BookServiceImpl - Book deleted with ID: 84
2025-05-10 00:05:11 INFO  c.g.l.controller.BookController - Fetching book details for ID: 84
2025-05-10 00:05:11 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 84
2025-05-10 00:05:11 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 84
2025-05-10 00:05:11 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:05:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-05-10 00:05:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-05-10 00:05:12 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:05:12 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 15109 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:05:12 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:05:12 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:05:12 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 3 JPA repository interfaces.
2025-05-10 00:05:12 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:05:12 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:05:12 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:05:12 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-05-10 00:05:12 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@29d98511
2025-05-10 00:05:12 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-05-10 00:05:13 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:05:13 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:05:13 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:05:13 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6add19fc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7024676f, org.springframework.security.web.context.SecurityContextHolderFilter@6701cc12, org.springframework.security.web.header.HeaderWriterFilter@66577728, org.springframework.web.filter.CorsFilter@516d5819, org.springframework.security.web.authentication.logout.LogoutFilter@306540c8, com.getir.library_management_system.security.JwtAuthenticationFilter@6cf2d7f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7e8ce225, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45eaf2f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@361a4ec7, org.springframework.security.web.access.ExceptionTranslationFilter@11bd72a1, org.springframework.security.web.access.intercept.AuthorizationFilter@58b7f4ff]
2025-05-10 00:05:14 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:05:14 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:05:14 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:05:14 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 1.926 seconds (process running for 36.975)
2025-05-10 00:05:14 INFO  c.g.l.controller.BookController - Request to create a new book: Book 0
2025-05-10 00:05:14 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 0
2025-05-10 00:05:14 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 85
2025-05-10 00:05:14 INFO  c.g.l.controller.BookController - Book created with ID: 85
2025-05-10 00:05:14 INFO  c.g.l.controller.BookController - Request to create a new book: Book 1
2025-05-10 00:05:14 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 1
2025-05-10 00:05:14 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 86
2025-05-10 00:05:14 INFO  c.g.l.controller.BookController - Book created with ID: 86
2025-05-10 00:05:14 INFO  c.g.l.controller.BookController - Request to create a new book: Book 2
2025-05-10 00:05:14 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 2
2025-05-10 00:05:14 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 87
2025-05-10 00:05:14 INFO  c.g.l.controller.BookController - Book created with ID: 87
2025-05-10 00:05:14 INFO  c.g.l.controller.BookController - Request to create a new book: Book 3
2025-05-10 00:05:14 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 3
2025-05-10 00:05:14 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 88
2025-05-10 00:05:14 INFO  c.g.l.controller.BookController - Book created with ID: 88
2025-05-10 00:05:14 INFO  c.g.l.controller.BookController - Request to create a new book: Book 4
2025-05-10 00:05:14 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 4
2025-05-10 00:05:14 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 89
2025-05-10 00:05:14 INFO  c.g.l.controller.BookController - Book created with ID: 89
2025-05-10 00:05:14 INFO  c.g.l.controller.BookController - Searching books with keyword: 'Book', page: 0, size: 5
2025-05-10 00:05:14 INFO  c.g.l.service.impl.BookServiceImpl - Searching books with keyword: Book
2025-05-10 00:05:14 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:05:14 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-05-10 00:05:14 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-05-10 00:05:14 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 1
2025-05-10 00:05:14 INFO  c.g.l.service.impl.UserServiceImpl - User deleted successfully with ID: 1
2025-05-10 00:05:14 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 1
2025-05-10 00:05:14 INFO  c.g.l.service.impl.UserServiceImpl - User updated successfully with ID: 1
2025-05-10 00:05:14 INFO  c.g.l.service.impl.UserServiceImpl - Registering new user with email: john@example.com
2025-05-10 00:05:14 INFO  c.g.l.service.impl.UserServiceImpl - User registered successfully with ID: null
2025-05-10 00:05:14 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 1
2025-05-10 00:05:14 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 1
2025-05-10 00:05:14 WARN  c.g.l.service.impl.UserServiceImpl - User not found for deletion with ID: 1
2025-05-10 00:05:14 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 1
2025-05-10 00:05:14 WARN  c.g.l.service.impl.UserServiceImpl - User not found for update with ID: 1
2025-05-10 00:05:14 WARN  c.g.l.service.impl.UserServiceImpl - loadUserByUsername() not implemented. Username: any
2025-05-10 00:05:15 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 1
2025-05-10 00:05:15 WARN  c.g.l.service.impl.UserServiceImpl - User not found with ID: 1
2025-05-10 00:05:15 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.LibraryManagementSystemApplicationTests]: LibraryManagementSystemApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-10 00:05:15 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.LibraryManagementSystemApplicationTests
2025-05-10 00:05:15 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:05:15 INFO  c.g.l.LibraryManagementSystemApplicationTests - Starting LibraryManagementSystemApplicationTests using Java 21.0.7 with PID 15109 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:05:15 INFO  c.g.l.LibraryManagementSystemApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:05:15 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:05:15 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
2025-05-10 00:05:15 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:05:15 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:05:15 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:05:15 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-05-10 00:05:15 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@50e8010b
2025-05-10 00:05:15 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-05-10 00:05:15 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:05:15 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:05:16 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:05:16 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@15eaa740, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@656055a6, org.springframework.security.web.context.SecurityContextHolderFilter@78086090, org.springframework.security.web.header.HeaderWriterFilter@f34aa4c, org.springframework.web.filter.CorsFilter@7f7a9841, org.springframework.security.web.authentication.logout.LogoutFilter@14ec92c1, com.getir.library_management_system.security.JwtAuthenticationFilter@6739372a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4431536d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@597d77e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6674012d, org.springframework.security.web.access.ExceptionTranslationFilter@1b80bee, org.springframework.security.web.access.intercept.AuthorizationFilter@611f0112]
2025-05-10 00:05:17 INFO  c.g.l.LibraryManagementSystemApplicationTests - Started LibraryManagementSystemApplicationTests in 1.931 seconds (process running for 39.897)
2025-05-10 00:05:17 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Title
2025-05-10 00:05:17 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-10 00:05:17 INFO  c.g.l.service.impl.BookServiceImpl - Searching books with keyword: java
2025-05-10 00:05:17 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-10 00:05:17 WARN  c.g.l.service.impl.BookServiceImpl - Cannot delete. Book not found with ID: 1
2025-05-10 00:05:17 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-10 00:05:17 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-10 00:05:17 INFO  c.g.l.service.impl.BookServiceImpl - Book found: Sample
2025-05-10 00:05:17 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-10 00:05:17 INFO  c.g.l.service.impl.BookServiceImpl - Book deleted with ID: 1
2025-05-10 00:05:17 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-10 00:05:17 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 1
2025-05-10 00:05:17 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-10 00:05:17 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-10 00:05:17 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-10 00:05:17 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-10 00:05:17 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: john@example.com
2025-05-10 00:05:17 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: john@example.com
2025-05-10 00:05:17 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: notfound@example.com
2025-05-10 00:05:17 WARN  c.g.l.s.CustomUserDetailsService - User not found with email: notfound@example.com
2025-05-10 00:05:17 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:05:17 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-05-10 00:05:17 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-05-10 00:09:37 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-10 00:09:37 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Starting BorrowingControllerIntegrationTest using Java 21.0.7 with PID 15270 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:09:37 INFO  c.g.l.i.BorrowingControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:09:40 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:09:40 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 502 ms. Found 3 JPA repository interfaces.
2025-05-10 00:09:42 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:09:42 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-10 00:09:42 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:09:43 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:09:43 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-10 00:09:44 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@167af480
2025-05-10 00:09:44 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-10 00:09:47 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:09:47 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:09:48 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-10 00:09:50 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:09:51 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@38734c00, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fd99730, org.springframework.security.web.context.SecurityContextHolderFilter@5e28bb52, org.springframework.security.web.header.HeaderWriterFilter@28e67eb2, org.springframework.web.filter.CorsFilter@35b161a, org.springframework.security.web.authentication.logout.LogoutFilter@284fdbb1, com.getir.library_management_system.security.JwtAuthenticationFilter@1c9bb6bc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1eae3160, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a769b42, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d65a30c, org.springframework.security.web.access.ExceptionTranslationFilter@5a9a8582, org.springframework.security.web.access.intercept.AuthorizationFilter@3fe7094f]
2025-05-10 00:09:52 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:09:52 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:09:52 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 3 ms
2025-05-10 00:09:53 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Started BorrowingControllerIntegrationTest in 16.873 seconds (process running for 19.99)
2025-05-10 00:09:55 INFO  c.g.l.controller.BorrowingController - Fetching borrowing history for user ID 22
2025-05-10 00:09:55 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching borrowing history for user ID: 22
2025-05-10 00:09:55 INFO  c.g.l.controller.BorrowingController - Fetching all borrowings (Librarian access)
2025-05-10 00:09:55 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching all borrowing records
2025-05-10 00:09:56 INFO  c.g.l.controller.BorrowingController - User 24 is attempting to borrow book with ID 92
2025-05-10 00:09:56 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 24 is attempting to borrow book 92
2025-05-10 00:09:56 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 92 marked as unavailable
2025-05-10 00:09:56 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing created with ID: 6
2025-05-10 00:09:56 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=92, title=Test Book, stock=4)
2025-05-10 00:09:56 INFO  c.g.l.controller.BorrowingController - Book borrowed successfully with borrowing ID 6
2025-05-10 00:09:56 INFO  c.g.l.controller.BorrowingController - Returning book for borrowing ID 6
2025-05-10 00:09:56 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 6
2025-05-10 00:09:56 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 92 marked as available
2025-05-10 00:09:56 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing 6 marked as returned
2025-05-10 00:09:56 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=92, title=Test Book, stock=5)
2025-05-10 00:09:56 INFO  c.g.l.controller.BorrowingController - Book returned successfully for borrowing ID 6
2025-05-10 00:09:56 INFO  c.g.l.controller.BorrowingController - Fetching overdue borrowings
2025-05-10 00:09:56 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching overdue borrowings
2025-05-10 00:09:56 INFO  c.g.l.controller.BorrowingController - Fetching detailed overdue book list
2025-05-10 00:09:56 INFO  c.g.l.s.impl.BorrowingServiceImpl - Checking for overdue books as of 2025-05-10
2025-05-10 00:09:56 INFO  c.g.l.controller.BorrowingController - Generating overdue book report
2025-05-10 00:09:57 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:09:57 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:09:57 WARN  c.g.l.s.impl.BorrowingServiceImpl - User not found with ID: 1
2025-05-10 00:09:57 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 1
2025-05-10 00:09:57 WARN  c.g.l.s.impl.BorrowingServiceImpl - Borrowing not found with ID: 1
2025-05-10 00:09:58 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:09:58 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:09:58 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:09:58 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 1 marked as unavailable
2025-05-10 00:09:58 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing created with ID: null
2025-05-10 00:09:58 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:09:58 INFO  c.g.l.s.impl.BorrowingServiceImpl - Checking for overdue books as of 2025-05-10
2025-05-10 00:09:58 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 1
2025-05-10 00:09:58 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 1 marked as available
2025-05-10 00:09:58 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing 1 marked as returned
2025-05-10 00:09:58 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 1
2025-05-10 00:09:58 WARN  c.g.l.s.impl.BorrowingServiceImpl - Borrowing ID 1 is not currently active
2025-05-10 00:09:58 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:09:58 WARN  c.g.l.s.impl.BorrowingServiceImpl - Book not found with ID: 1
2025-05-10 00:09:58 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching all borrowing records
2025-05-10 00:09:58 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching borrowing history for user ID: 1
2025-05-10 00:09:58 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching overdue borrowings
2025-05-10 00:09:58 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.BookControllerIntegrationTest]: BookControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-10 00:09:58 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.BookControllerIntegrationTest
2025-05-10 00:09:58 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:09:58 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:09:58 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 94
2025-05-10 00:09:58 INFO  c.g.l.controller.BookController - Book created with ID: 94
2025-05-10 00:09:58 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:09:58 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-10 00:09:58 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-10 00:09:59 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:09:59 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 15270 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:09:59 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:09:59 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:09:59 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 3 JPA repository interfaces.
2025-05-10 00:10:00 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:10:00 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:10:00 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:10:00 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-05-10 00:10:00 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@1f112085
2025-05-10 00:10:00 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-05-10 00:10:00 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:10:00 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:10:01 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:10:01 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@783ba66a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c89a238, org.springframework.security.web.context.SecurityContextHolderFilter@42c0ff33, org.springframework.security.web.header.HeaderWriterFilter@67298d2c, org.springframework.web.filter.CorsFilter@6dedf991, org.springframework.security.web.authentication.logout.LogoutFilter@1d9b2db8, com.getir.library_management_system.security.JwtAuthenticationFilter@e9a477b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1524c36, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@730ccb50, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3121e134, org.springframework.security.web.access.ExceptionTranslationFilter@6eb393e7, org.springframework.security.web.access.intercept.AuthorizationFilter@1b78ed1d]
2025-05-10 00:10:02 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:10:02 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:10:02 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 3 ms
2025-05-10 00:10:02 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 3.469 seconds (process running for 29.217)
2025-05-10 00:10:02 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:10:02 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:10:02 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 95
2025-05-10 00:10:02 INFO  c.g.l.controller.BookController - Book created with ID: 95
2025-05-10 00:10:02 INFO  c.g.l.controller.BookController - Fetching book details for ID: 95
2025-05-10 00:10:02 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 95
2025-05-10 00:10:02 INFO  c.g.l.service.impl.BookServiceImpl - Book found: Test Book
2025-05-10 00:10:02 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:10:02 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-05-10 00:10:02 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-05-10 00:10:02 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:10:02 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 15270 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:10:02 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:10:03 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:10:03 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 3 JPA repository interfaces.
2025-05-10 00:10:03 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:10:03 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:10:03 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:10:03 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-05-10 00:10:03 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@6b3d9866
2025-05-10 00:10:03 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-05-10 00:10:03 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:10:03 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:10:04 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:10:04 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1d70bb3d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46bfab67, org.springframework.security.web.context.SecurityContextHolderFilter@51b4d593, org.springframework.security.web.header.HeaderWriterFilter@2d1cbc5b, org.springframework.web.filter.CorsFilter@1f318853, org.springframework.security.web.authentication.logout.LogoutFilter@236f1f73, com.getir.library_management_system.security.JwtAuthenticationFilter@4c29152c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41706544, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1cb6d984, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68bb0d92, org.springframework.security.web.access.ExceptionTranslationFilter@74a527c1, org.springframework.security.web.access.intercept.AuthorizationFilter@4b279b5c]
2025-05-10 00:10:04 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:10:04 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:10:04 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-10 00:10:04 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 2.138 seconds (process running for 31.728)
2025-05-10 00:10:05 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:10:05 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:10:05 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 96
2025-05-10 00:10:05 INFO  c.g.l.controller.BookController - Book created with ID: 96
2025-05-10 00:10:05 INFO  c.g.l.controller.BookController - Updating book with ID: 96
2025-05-10 00:10:05 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 96
2025-05-10 00:10:05 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 96
2025-05-10 00:10:05 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:10:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-05-10 00:10:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-05-10 00:10:05 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:10:05 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 15270 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:10:05 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:10:05 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:10:05 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-05-10 00:10:06 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:10:06 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:10:06 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:10:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-05-10 00:10:06 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@19fc0108
2025-05-10 00:10:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-05-10 00:10:06 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:10:06 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:10:06 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:10:06 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2bf550e4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24a993f7, org.springframework.security.web.context.SecurityContextHolderFilter@52c67586, org.springframework.security.web.header.HeaderWriterFilter@4aaa1ef1, org.springframework.web.filter.CorsFilter@53ea2e8d, org.springframework.security.web.authentication.logout.LogoutFilter@697cc5e8, com.getir.library_management_system.security.JwtAuthenticationFilter@731f35ae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4384b825, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12302204, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e8f6aa9, org.springframework.security.web.access.ExceptionTranslationFilter@1758c7a6, org.springframework.security.web.access.intercept.AuthorizationFilter@1c6c3e9f]
2025-05-10 00:10:07 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:10:07 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:10:07 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:10:07 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 1.99 seconds (process running for 34.146)
2025-05-10 00:10:07 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:10:07 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:10:07 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 97
2025-05-10 00:10:07 INFO  c.g.l.controller.BookController - Book created with ID: 97
2025-05-10 00:10:07 INFO  c.g.l.controller.BookController - Deleting book with ID: 97
2025-05-10 00:10:07 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 97
2025-05-10 00:10:07 INFO  c.g.l.service.impl.BookServiceImpl - Book deleted with ID: 97
2025-05-10 00:10:07 INFO  c.g.l.controller.BookController - Fetching book details for ID: 97
2025-05-10 00:10:07 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 97
2025-05-10 00:10:07 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 97
2025-05-10 00:10:07 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:10:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-05-10 00:10:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-05-10 00:10:07 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:10:07 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 15270 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:10:07 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:10:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:10:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 3 JPA repository interfaces.
2025-05-10 00:10:08 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:10:08 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:10:08 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:10:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-05-10 00:10:08 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@6115148f
2025-05-10 00:10:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-05-10 00:10:08 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:10:08 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:10:09 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:10:09 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5027ba1b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@349cb49b, org.springframework.security.web.context.SecurityContextHolderFilter@10b776fd, org.springframework.security.web.header.HeaderWriterFilter@4b151c96, org.springframework.web.filter.CorsFilter@74b94e25, org.springframework.security.web.authentication.logout.LogoutFilter@4945b34f, com.getir.library_management_system.security.JwtAuthenticationFilter@43c47b50, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50d71ad1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1fc6c74, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3cd5c23d, org.springframework.security.web.access.ExceptionTranslationFilter@2f0fceb9, org.springframework.security.web.access.intercept.AuthorizationFilter@43d16ea9]
2025-05-10 00:10:09 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:10:09 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:10:09 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-10 00:10:09 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 1.967 seconds (process running for 36.607)
2025-05-10 00:10:09 INFO  c.g.l.controller.BookController - Request to create a new book: Book 0
2025-05-10 00:10:09 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 0
2025-05-10 00:10:09 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 98
2025-05-10 00:10:09 INFO  c.g.l.controller.BookController - Book created with ID: 98
2025-05-10 00:10:09 INFO  c.g.l.controller.BookController - Request to create a new book: Book 1
2025-05-10 00:10:09 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 1
2025-05-10 00:10:09 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 99
2025-05-10 00:10:09 INFO  c.g.l.controller.BookController - Book created with ID: 99
2025-05-10 00:10:09 INFO  c.g.l.controller.BookController - Request to create a new book: Book 2
2025-05-10 00:10:09 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 2
2025-05-10 00:10:09 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 100
2025-05-10 00:10:09 INFO  c.g.l.controller.BookController - Book created with ID: 100
2025-05-10 00:10:09 INFO  c.g.l.controller.BookController - Request to create a new book: Book 3
2025-05-10 00:10:09 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 3
2025-05-10 00:10:09 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 101
2025-05-10 00:10:09 INFO  c.g.l.controller.BookController - Book created with ID: 101
2025-05-10 00:10:09 INFO  c.g.l.controller.BookController - Request to create a new book: Book 4
2025-05-10 00:10:09 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 4
2025-05-10 00:10:09 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 102
2025-05-10 00:10:09 INFO  c.g.l.controller.BookController - Book created with ID: 102
2025-05-10 00:10:09 INFO  c.g.l.controller.BookController - Searching books with keyword: 'Book', page: 0, size: 5
2025-05-10 00:10:09 INFO  c.g.l.service.impl.BookServiceImpl - Searching books with keyword: Book
2025-05-10 00:10:10 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:10:10 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-05-10 00:10:10 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-05-10 00:10:10 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 1
2025-05-10 00:10:10 INFO  c.g.l.service.impl.UserServiceImpl - User deleted successfully with ID: 1
2025-05-10 00:10:10 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 1
2025-05-10 00:10:10 INFO  c.g.l.service.impl.UserServiceImpl - User updated successfully with ID: 1
2025-05-10 00:10:10 INFO  c.g.l.service.impl.UserServiceImpl - Registering new user with email: john@example.com
2025-05-10 00:10:10 INFO  c.g.l.service.impl.UserServiceImpl - User registered successfully with ID: null
2025-05-10 00:10:10 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 1
2025-05-10 00:10:10 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 1
2025-05-10 00:10:10 WARN  c.g.l.service.impl.UserServiceImpl - User not found for deletion with ID: 1
2025-05-10 00:10:10 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 1
2025-05-10 00:10:10 WARN  c.g.l.service.impl.UserServiceImpl - User not found for update with ID: 1
2025-05-10 00:10:10 WARN  c.g.l.service.impl.UserServiceImpl - loadUserByUsername() not implemented. Username: any
2025-05-10 00:10:10 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 1
2025-05-10 00:10:10 WARN  c.g.l.service.impl.UserServiceImpl - User not found with ID: 1
2025-05-10 00:10:10 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.LibraryManagementSystemApplicationTests]: LibraryManagementSystemApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-10 00:10:10 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.LibraryManagementSystemApplicationTests
2025-05-10 00:10:10 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:10:10 INFO  c.g.l.LibraryManagementSystemApplicationTests - Starting LibraryManagementSystemApplicationTests using Java 21.0.7 with PID 15270 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:10:10 INFO  c.g.l.LibraryManagementSystemApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:10:11 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:10:11 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 3 JPA repository interfaces.
2025-05-10 00:10:11 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:10:11 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:10:11 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:10:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-05-10 00:10:11 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@1bf3a307
2025-05-10 00:10:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-05-10 00:10:11 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:10:11 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:10:12 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:10:12 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7b55a6e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78645eec, org.springframework.security.web.context.SecurityContextHolderFilter@62e1b042, org.springframework.security.web.header.HeaderWriterFilter@4199b2ec, org.springframework.web.filter.CorsFilter@5490c0e7, org.springframework.security.web.authentication.logout.LogoutFilter@39f8cace, com.getir.library_management_system.security.JwtAuthenticationFilter@76d58702, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55fe3691, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a76c482, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@60edffa3, org.springframework.security.web.access.ExceptionTranslationFilter@40b9e7d3, org.springframework.security.web.access.intercept.AuthorizationFilter@71a8ac2a]
2025-05-10 00:10:12 INFO  c.g.l.LibraryManagementSystemApplicationTests - Started LibraryManagementSystemApplicationTests in 1.854 seconds (process running for 39.433)
2025-05-10 00:10:12 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Title
2025-05-10 00:10:12 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-10 00:10:12 INFO  c.g.l.service.impl.BookServiceImpl - Searching books with keyword: java
2025-05-10 00:10:12 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-10 00:10:12 WARN  c.g.l.service.impl.BookServiceImpl - Cannot delete. Book not found with ID: 1
2025-05-10 00:10:12 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-10 00:10:12 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-10 00:10:12 INFO  c.g.l.service.impl.BookServiceImpl - Book found: Sample
2025-05-10 00:10:12 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-10 00:10:12 INFO  c.g.l.service.impl.BookServiceImpl - Book deleted with ID: 1
2025-05-10 00:10:12 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-10 00:10:12 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 1
2025-05-10 00:10:12 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-10 00:10:12 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-10 00:10:12 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-10 00:10:12 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-10 00:10:12 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: john@example.com
2025-05-10 00:10:12 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: john@example.com
2025-05-10 00:10:13 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: notfound@example.com
2025-05-10 00:10:13 WARN  c.g.l.s.CustomUserDetailsService - User not found with email: notfound@example.com
2025-05-10 00:10:13 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:10:13 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-05-10 00:10:13 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-05-10 00:13:05 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-10 00:13:05 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Starting BorrowingControllerIntegrationTest using Java 21.0.7 with PID 15414 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:13:05 INFO  c.g.l.i.BorrowingControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:13:07 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:13:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 435 ms. Found 3 JPA repository interfaces.
2025-05-10 00:13:09 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:13:09 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-10 00:13:09 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:13:10 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:13:10 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-10 00:13:11 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@38b29bb6
2025-05-10 00:13:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-10 00:13:15 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:13:15 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:13:17 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-10 00:13:19 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:13:20 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@272a0754, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f1935d0, org.springframework.security.web.context.SecurityContextHolderFilter@7ce24e9, org.springframework.security.web.header.HeaderWriterFilter@111f5375, org.springframework.web.filter.CorsFilter@4f478915, org.springframework.security.web.authentication.logout.LogoutFilter@3ed9e546, com.getir.library_management_system.security.JwtAuthenticationFilter@2ef5d1c3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a855e48, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53207f4f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75c1bd19, org.springframework.security.web.access.ExceptionTranslationFilter@1eae3160, org.springframework.security.web.access.intercept.AuthorizationFilter@2fd4edec]
2025-05-10 00:13:21 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:13:21 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:13:21 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:13:21 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Started BorrowingControllerIntegrationTest in 17.799 seconds (process running for 21.069)
2025-05-10 00:13:23 INFO  c.g.l.controller.BorrowingController - Fetching borrowing history for user ID 26
2025-05-10 00:13:23 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching borrowing history for user ID: 26
2025-05-10 00:13:24 INFO  c.g.l.controller.BorrowingController - Fetching all borrowings (Librarian access)
2025-05-10 00:13:24 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching all borrowing records
2025-05-10 00:13:24 INFO  c.g.l.controller.BorrowingController - User 28 is attempting to borrow book with ID 105
2025-05-10 00:13:24 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 28 is attempting to borrow book 105
2025-05-10 00:13:24 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 105 marked as unavailable
2025-05-10 00:13:24 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing created with ID: 7
2025-05-10 00:13:24 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=105, title=Test Book, stock=4)
2025-05-10 00:13:24 INFO  c.g.l.controller.BorrowingController - Book borrowed successfully with borrowing ID 7
2025-05-10 00:13:24 INFO  c.g.l.controller.BorrowingController - Returning book for borrowing ID 7
2025-05-10 00:13:24 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 7
2025-05-10 00:13:24 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 105 marked as available
2025-05-10 00:13:24 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing 7 marked as returned
2025-05-10 00:13:24 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=105, title=Test Book, stock=5)
2025-05-10 00:13:24 INFO  c.g.l.controller.BorrowingController - Book returned successfully for borrowing ID 7
2025-05-10 00:13:25 INFO  c.g.l.controller.BorrowingController - Fetching overdue borrowings
2025-05-10 00:13:25 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching overdue borrowings
2025-05-10 00:13:25 INFO  c.g.l.controller.BorrowingController - Fetching detailed overdue book list
2025-05-10 00:13:25 INFO  c.g.l.s.impl.BorrowingServiceImpl - Checking for overdue books as of 2025-05-10
2025-05-10 00:13:25 INFO  c.g.l.controller.BorrowingController - Generating overdue book report
2025-05-10 00:13:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:13:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:13:26 WARN  c.g.l.s.impl.BorrowingServiceImpl - User not found with ID: 1
2025-05-10 00:13:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 1
2025-05-10 00:13:26 WARN  c.g.l.s.impl.BorrowingServiceImpl - Borrowing not found with ID: 1
2025-05-10 00:13:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:13:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:13:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:13:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 1 marked as unavailable
2025-05-10 00:13:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing created with ID: null
2025-05-10 00:13:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:13:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - Checking for overdue books as of 2025-05-10
2025-05-10 00:13:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 1
2025-05-10 00:13:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 1 marked as available
2025-05-10 00:13:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing 1 marked as returned
2025-05-10 00:13:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 1
2025-05-10 00:13:26 WARN  c.g.l.s.impl.BorrowingServiceImpl - Borrowing ID 1 is not currently active
2025-05-10 00:13:26 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 1 is attempting to borrow book 1
2025-05-10 00:13:26 WARN  c.g.l.s.impl.BorrowingServiceImpl - Book not found with ID: 1
2025-05-10 00:13:27 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching all borrowing records
2025-05-10 00:13:27 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching borrowing history for user ID: 1
2025-05-10 00:13:27 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching overdue borrowings
2025-05-10 00:13:27 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.BookControllerIntegrationTest]: BookControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-10 00:13:27 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.BookControllerIntegrationTest
2025-05-10 00:13:27 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:13:27 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:13:27 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 107
2025-05-10 00:13:27 INFO  c.g.l.controller.BookController - Book created with ID: 107
2025-05-10 00:13:27 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:13:27 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-10 00:13:27 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-10 00:13:27 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:13:27 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 15414 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:13:27 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:13:28 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:13:28 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 3 JPA repository interfaces.
2025-05-10 00:13:28 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:13:28 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:13:28 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:13:28 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-05-10 00:13:28 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@4a5b3d08
2025-05-10 00:13:28 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-05-10 00:13:29 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:13:29 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:13:29 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:13:30 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62bc76d0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9062bb7, org.springframework.security.web.context.SecurityContextHolderFilter@4760b994, org.springframework.security.web.header.HeaderWriterFilter@3f65d2c, org.springframework.web.filter.CorsFilter@78fa8dc7, org.springframework.security.web.authentication.logout.LogoutFilter@6bd01020, com.getir.library_management_system.security.JwtAuthenticationFilter@4517ef41, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71670484, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18109189, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1790249a, org.springframework.security.web.access.ExceptionTranslationFilter@7433a5a4, org.springframework.security.web.access.intercept.AuthorizationFilter@3eda3bf1]
2025-05-10 00:13:31 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:13:31 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:13:31 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 3 ms
2025-05-10 00:13:31 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 3.559 seconds (process running for 30.331)
2025-05-10 00:13:31 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:13:31 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:13:31 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 108
2025-05-10 00:13:31 INFO  c.g.l.controller.BookController - Book created with ID: 108
2025-05-10 00:13:31 INFO  c.g.l.controller.BookController - Fetching book details for ID: 108
2025-05-10 00:13:31 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 108
2025-05-10 00:13:31 INFO  c.g.l.service.impl.BookServiceImpl - Book found: Test Book
2025-05-10 00:13:31 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:13:31 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-05-10 00:13:31 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-05-10 00:13:31 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:13:31 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 15414 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:13:31 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:13:32 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:13:32 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 3 JPA repository interfaces.
2025-05-10 00:13:32 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:13:32 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:13:32 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:13:32 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-05-10 00:13:32 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@41465180
2025-05-10 00:13:32 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-05-10 00:13:32 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:13:32 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:13:33 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:13:33 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@156734fe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f988a61, org.springframework.security.web.context.SecurityContextHolderFilter@7de4f7c9, org.springframework.security.web.header.HeaderWriterFilter@22def342, org.springframework.web.filter.CorsFilter@69df9746, org.springframework.security.web.authentication.logout.LogoutFilter@154df91a, com.getir.library_management_system.security.JwtAuthenticationFilter@10ca0d6a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@366dce28, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a5ca17f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50332191, org.springframework.security.web.access.ExceptionTranslationFilter@5c3e147e, org.springframework.security.web.access.intercept.AuthorizationFilter@32217e82]
2025-05-10 00:13:34 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:13:34 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:13:34 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:13:34 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 2.724 seconds (process running for 33.481)
2025-05-10 00:13:34 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:13:34 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:13:34 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 109
2025-05-10 00:13:34 INFO  c.g.l.controller.BookController - Book created with ID: 109
2025-05-10 00:13:34 INFO  c.g.l.controller.BookController - Updating book with ID: 109
2025-05-10 00:13:34 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 109
2025-05-10 00:13:34 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 109
2025-05-10 00:13:34 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:13:34 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-05-10 00:13:34 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-05-10 00:13:34 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:13:34 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 15414 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:13:34 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:13:35 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:13:35 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 3 JPA repository interfaces.
2025-05-10 00:13:35 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:13:35 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:13:35 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:13:35 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-05-10 00:13:35 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@546b9b85
2025-05-10 00:13:35 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-05-10 00:13:35 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:13:35 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:13:36 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:13:36 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@212b0fb2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21c73368, org.springframework.security.web.context.SecurityContextHolderFilter@6caa888d, org.springframework.security.web.header.HeaderWriterFilter@3ffc994, org.springframework.web.filter.CorsFilter@2f38a20b, org.springframework.security.web.authentication.logout.LogoutFilter@680d1c3b, com.getir.library_management_system.security.JwtAuthenticationFilter@225631fc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8a95e53, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d15d702, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51652767, org.springframework.security.web.access.ExceptionTranslationFilter@3853b955, org.springframework.security.web.access.intercept.AuthorizationFilter@293ae328]
2025-05-10 00:13:37 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:13:37 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:13:37 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 3 ms
2025-05-10 00:13:37 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 2.348 seconds (process running for 36.272)
2025-05-10 00:13:37 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:13:37 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:13:37 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 110
2025-05-10 00:13:37 INFO  c.g.l.controller.BookController - Book created with ID: 110
2025-05-10 00:13:37 INFO  c.g.l.controller.BookController - Deleting book with ID: 110
2025-05-10 00:13:37 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 110
2025-05-10 00:13:37 INFO  c.g.l.service.impl.BookServiceImpl - Book deleted with ID: 110
2025-05-10 00:13:37 INFO  c.g.l.controller.BookController - Fetching book details for ID: 110
2025-05-10 00:13:37 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 110
2025-05-10 00:13:37 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 110
2025-05-10 00:13:37 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:13:37 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-05-10 00:13:37 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-05-10 00:13:37 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:13:37 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 15414 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:13:37 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:13:38 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:13:38 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 3 JPA repository interfaces.
2025-05-10 00:13:38 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:13:38 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:13:38 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:13:38 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-05-10 00:13:38 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@6a553f6d
2025-05-10 00:13:38 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-05-10 00:13:38 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:13:38 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:13:39 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:13:39 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5ffad6c3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cb523f0, org.springframework.security.web.context.SecurityContextHolderFilter@595a94d8, org.springframework.security.web.header.HeaderWriterFilter@1a7e9fb9, org.springframework.web.filter.CorsFilter@9aceba3, org.springframework.security.web.authentication.logout.LogoutFilter@64eae2de, com.getir.library_management_system.security.JwtAuthenticationFilter@174bfc75, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72e931fe, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7769361, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2cc31452, org.springframework.security.web.access.ExceptionTranslationFilter@6de6684, org.springframework.security.web.access.intercept.AuthorizationFilter@6ce93470]
2025-05-10 00:13:39 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:13:39 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:13:39 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:13:40 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 2.242 seconds (process running for 39.086)
2025-05-10 00:13:40 INFO  c.g.l.controller.BookController - Request to create a new book: Book 0
2025-05-10 00:13:40 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 0
2025-05-10 00:13:40 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 111
2025-05-10 00:13:40 INFO  c.g.l.controller.BookController - Book created with ID: 111
2025-05-10 00:13:40 INFO  c.g.l.controller.BookController - Request to create a new book: Book 1
2025-05-10 00:13:40 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 1
2025-05-10 00:13:40 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 112
2025-05-10 00:13:40 INFO  c.g.l.controller.BookController - Book created with ID: 112
2025-05-10 00:13:40 INFO  c.g.l.controller.BookController - Request to create a new book: Book 2
2025-05-10 00:13:40 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 2
2025-05-10 00:13:40 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 113
2025-05-10 00:13:40 INFO  c.g.l.controller.BookController - Book created with ID: 113
2025-05-10 00:13:40 INFO  c.g.l.controller.BookController - Request to create a new book: Book 3
2025-05-10 00:13:40 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 3
2025-05-10 00:13:40 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 114
2025-05-10 00:13:40 INFO  c.g.l.controller.BookController - Book created with ID: 114
2025-05-10 00:13:40 INFO  c.g.l.controller.BookController - Request to create a new book: Book 4
2025-05-10 00:13:40 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 4
2025-05-10 00:13:40 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 115
2025-05-10 00:13:40 INFO  c.g.l.controller.BookController - Book created with ID: 115
2025-05-10 00:13:40 INFO  c.g.l.controller.BookController - Searching books with keyword: 'Book', page: 0, size: 5
2025-05-10 00:13:40 INFO  c.g.l.service.impl.BookServiceImpl - Searching books with keyword: Book
2025-05-10 00:13:40 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:13:40 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-05-10 00:13:40 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-05-10 00:13:40 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 1
2025-05-10 00:13:40 INFO  c.g.l.service.impl.UserServiceImpl - User deleted successfully with ID: 1
2025-05-10 00:13:40 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 1
2025-05-10 00:13:40 INFO  c.g.l.service.impl.UserServiceImpl - User updated successfully with ID: 1
2025-05-10 00:13:40 INFO  c.g.l.service.impl.UserServiceImpl - Registering new user with email: john@example.com
2025-05-10 00:13:40 INFO  c.g.l.service.impl.UserServiceImpl - User registered successfully with ID: null
2025-05-10 00:13:40 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 1
2025-05-10 00:13:40 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 1
2025-05-10 00:13:40 WARN  c.g.l.service.impl.UserServiceImpl - User not found for deletion with ID: 1
2025-05-10 00:13:41 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 1
2025-05-10 00:13:41 WARN  c.g.l.service.impl.UserServiceImpl - User not found for update with ID: 1
2025-05-10 00:13:41 WARN  c.g.l.service.impl.UserServiceImpl - loadUserByUsername() not implemented. Username: any
2025-05-10 00:13:41 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 1
2025-05-10 00:13:41 WARN  c.g.l.service.impl.UserServiceImpl - User not found with ID: 1
2025-05-10 00:13:41 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.LibraryManagementSystemApplicationTests]: LibraryManagementSystemApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-10 00:13:41 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.LibraryManagementSystemApplicationTests
2025-05-10 00:13:41 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:13:41 INFO  c.g.l.LibraryManagementSystemApplicationTests - Starting LibraryManagementSystemApplicationTests using Java 21.0.7 with PID 15414 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:13:41 INFO  c.g.l.LibraryManagementSystemApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:13:41 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:13:41 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 3 JPA repository interfaces.
2025-05-10 00:13:41 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:13:41 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:13:41 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:13:41 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-05-10 00:13:41 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@7cd81baa
2025-05-10 00:13:41 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-05-10 00:13:41 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:13:42 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:13:42 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:13:42 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@289e199c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23907e40, org.springframework.security.web.context.SecurityContextHolderFilter@30765be4, org.springframework.security.web.header.HeaderWriterFilter@24a2ce46, org.springframework.web.filter.CorsFilter@2b933a1f, org.springframework.security.web.authentication.logout.LogoutFilter@4a3827a8, com.getir.library_management_system.security.JwtAuthenticationFilter@52e6a5bb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178ac465, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a71cdc3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@90a7497, org.springframework.security.web.access.ExceptionTranslationFilter@f7c4d4a, org.springframework.security.web.access.intercept.AuthorizationFilter@7fbba00a]
2025-05-10 00:13:43 INFO  c.g.l.LibraryManagementSystemApplicationTests - Started LibraryManagementSystemApplicationTests in 2.168 seconds (process running for 42.382)
2025-05-10 00:13:43 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Title
2025-05-10 00:13:43 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-10 00:13:43 INFO  c.g.l.service.impl.BookServiceImpl - Searching books with keyword: java
2025-05-10 00:13:43 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-10 00:13:43 WARN  c.g.l.service.impl.BookServiceImpl - Cannot delete. Book not found with ID: 1
2025-05-10 00:13:43 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-10 00:13:43 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-10 00:13:43 INFO  c.g.l.service.impl.BookServiceImpl - Book found: Sample
2025-05-10 00:13:43 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-10 00:13:43 INFO  c.g.l.service.impl.BookServiceImpl - Book deleted with ID: 1
2025-05-10 00:13:43 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-10 00:13:43 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 1
2025-05-10 00:13:43 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-10 00:13:43 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-10 00:13:43 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-10 00:13:43 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-10 00:13:43 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: john@example.com
2025-05-10 00:13:43 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: john@example.com
2025-05-10 00:13:43 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: notfound@example.com
2025-05-10 00:13:43 WARN  c.g.l.s.CustomUserDetailsService - User not found with email: notfound@example.com
2025-05-10 00:13:43 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:13:43 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-05-10 00:13:43 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-05-10 00:19:20 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-10 00:19:20 INFO  c.g.l.i.UserControllerIntegrationTest - Starting UserControllerIntegrationTest using Java 21.0.7 with PID 15640 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:19:20 INFO  c.g.l.i.UserControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:19:21 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:19:22 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 256 ms. Found 3 JPA repository interfaces.
2025-05-10 00:19:22 INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-05-10 00:19:22 WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
2025-05-10 00:19:22 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-10 00:19:22 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:542)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1454)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 98 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.util.Assert.state(Assert.java:76)
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactory.getEmbeddedDatabase(TestDatabaseAutoConfiguration.java:188)
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean.afterPropertiesSet(TestDatabaseAutoConfiguration.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 109 common frames omitted
2025-05-10 00:19:22 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.getir.library_management_system.integration.UserControllerIntegrationTest@33751d49]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@14a1769d testClass = com.getir.library_management_system.integration.UserControllerIntegrationTest, locations = [], classes = [com.getir.library_management_system.LibraryManagementSystemApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@10bf1ec9 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4ea5b703, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@723e88f9, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@39d76cb5, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@14a50707, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@16c7d1d9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@1863d2fe, org.springframework.boot.test.context.SpringBootTestAnnotation@b55f0bb3], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:542)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1454)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 72 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 98 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.util.Assert.state(Assert.java:76)
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactory.getEmbeddedDatabase(TestDatabaseAutoConfiguration.java:188)
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean.afterPropertiesSet(TestDatabaseAutoConfiguration.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 109 common frames omitted
2025-05-10 00:19:22 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.getir.library_management_system.integration.UserControllerIntegrationTest@2c8ff67]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@14a1769d testClass = com.getir.library_management_system.integration.UserControllerIntegrationTest, locations = [], classes = [com.getir.library_management_system.LibraryManagementSystemApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@10bf1ec9 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4ea5b703, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@723e88f9, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@39d76cb5, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@14a50707, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@16c7d1d9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@1863d2fe, org.springframework.boot.test.context.SpringBootTestAnnotation@b55f0bb3], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-05-10 00:19:22 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.getir.library_management_system.integration.UserControllerIntegrationTest@77ccded4]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@14a1769d testClass = com.getir.library_management_system.integration.UserControllerIntegrationTest, locations = [], classes = [com.getir.library_management_system.LibraryManagementSystemApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@10bf1ec9 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4ea5b703, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@723e88f9, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@39d76cb5, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@14a50707, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@16c7d1d9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@1863d2fe, org.springframework.boot.test.context.SpringBootTestAnnotation@b55f0bb3], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-05-10 00:19:22 WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.getir.library_management_system.integration.UserControllerIntegrationTest@21be14c2]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@14a1769d testClass = com.getir.library_management_system.integration.UserControllerIntegrationTest, locations = [], classes = [com.getir.library_management_system.LibraryManagementSystemApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@10bf1ec9 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4ea5b703, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@723e88f9, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@39d76cb5, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@14a50707, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@16c7d1d9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@1863d2fe, org.springframework.boot.test.context.SpringBootTestAnnotation@b55f0bb3], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2025-05-10 00:21:42 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-10 00:21:42 INFO  c.g.l.i.UserControllerIntegrationTest - Starting UserControllerIntegrationTest using Java 21.0.7 with PID 15710 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:21:42 INFO  c.g.l.i.UserControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:21:43 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:21:44 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 244 ms. Found 3 JPA repository interfaces.
2025-05-10 00:21:44 INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-05-10 00:21:44 INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:6fe41faa-0a06-4dec-a0eb-6a9dc19a72b3;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-05-10 00:21:44 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:21:45 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-10 00:21:45 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:21:45 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:21:46 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:21:47 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:21:47 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-10 00:21:48 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:21:49 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a5b8f77, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@385ff04e, org.springframework.security.web.context.SecurityContextHolderFilter@1bc41170, org.springframework.security.web.header.HeaderWriterFilter@1f953e51, org.springframework.web.filter.CorsFilter@42ff5c92, org.springframework.security.web.authentication.logout.LogoutFilter@7ec416a0, com.getir.library_management_system.security.JwtAuthenticationFilter@3f0c2eff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35e55afa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@559baea1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c9cd06e, org.springframework.security.web.access.ExceptionTranslationFilter@6b36ab82, org.springframework.security.web.access.intercept.AuthorizationFilter@3af30ab8]
2025-05-10 00:21:49 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:21:49 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:21:49 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:21:49 INFO  c.g.l.i.UserControllerIntegrationTest - Started UserControllerIntegrationTest in 7.867 seconds (process running for 9.353)
2025-05-10 00:21:51 INFO  c.g.l.controller.UserController - Updating user with id: 2
2025-05-10 00:21:51 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 2
2025-05-10 00:21:51 INFO  c.g.l.service.impl.UserServiceImpl - User updated successfully with ID: 2
2025-05-10 00:21:51 WARN  c.g.l.controller.UserController - Deleting user with id: 3
2025-05-10 00:21:51 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 3
2025-05-10 00:21:51 INFO  c.g.l.service.impl.UserServiceImpl - User deleted successfully with ID: 3
2025-05-10 00:21:51 INFO  c.g.l.controller.UserController - Fetching user with id: 4
2025-05-10 00:21:51 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 4
2025-05-10 00:21:51 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:24:27 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-10 00:24:27 INFO  c.g.l.i.UserControllerIntegrationTest - Starting UserControllerIntegrationTest using Java 21.0.7 with PID 15798 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:24:27 INFO  c.g.l.i.UserControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:24:29 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:24:29 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 233 ms. Found 3 JPA repository interfaces.
2025-05-10 00:24:29 INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-05-10 00:24:29 INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:e27bbcc1-053a-46d3-bd2a-efa2a7fa6154;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-05-10 00:24:30 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:24:30 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-10 00:24:30 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:24:30 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:24:32 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:24:32 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:24:32 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-10 00:24:33 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:24:34 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c1e7bea, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3af30ab8, org.springframework.security.web.context.SecurityContextHolderFilter@4f283b8f, org.springframework.security.web.header.HeaderWriterFilter@4de3a1ca, org.springframework.web.filter.CorsFilter@6453c126, org.springframework.security.web.authentication.logout.LogoutFilter@746fda68, com.getir.library_management_system.security.JwtAuthenticationFilter@3bbb3c84, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b0a6c53, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15beb40b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6565691a, org.springframework.security.web.access.ExceptionTranslationFilter@6e16fcaf, org.springframework.security.web.access.intercept.AuthorizationFilter@35007b7a]
2025-05-10 00:24:34 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:24:34 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:24:34 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-10 00:24:34 INFO  c.g.l.i.UserControllerIntegrationTest - Started UserControllerIntegrationTest in 7.688 seconds (process running for 9.25)
2025-05-10 00:24:35 INFO  c.g.l.controller.UserController - Registering new user with email: jane@example.com
2025-05-10 00:24:35 INFO  c.g.l.service.impl.UserServiceImpl - Registering new user with email: jane@example.com
2025-05-10 00:24:35 INFO  c.g.l.service.impl.UserServiceImpl - User registered successfully with ID: 2
2025-05-10 00:24:35 INFO  c.g.l.controller.UserController - User registered successfully with id: 2
2025-05-10 00:24:36 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:29:33 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-10 00:29:33 INFO  c.g.l.i.AuthControllerIntegrationTest - Starting AuthControllerIntegrationTest using Java 21.0.7 with PID 15905 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:29:33 INFO  c.g.l.i.AuthControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:29:34 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:29:34 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 238 ms. Found 3 JPA repository interfaces.
2025-05-10 00:29:34 INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-05-10 00:29:37 INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:88b2bc8c-f6a7-4723-8c1e-1114da5aebba;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-05-10 00:29:37 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:29:37 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-10 00:29:37 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:29:37 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:29:39 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:29:39 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:29:40 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-10 00:29:41 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:29:42 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@605049be, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ae50044, org.springframework.security.web.context.SecurityContextHolderFilter@425436b4, org.springframework.security.web.header.HeaderWriterFilter@2fcd0756, org.springframework.web.filter.CorsFilter@73d7b6b0, org.springframework.security.web.authentication.logout.LogoutFilter@56ed024b, com.getir.library_management_system.security.JwtAuthenticationFilter@2150dc64, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@446717fb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@613452e1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64d0908c, org.springframework.security.web.access.ExceptionTranslationFilter@66a2bc61, org.springframework.security.web.access.intercept.AuthorizationFilter@532f568e]
2025-05-10 00:29:43 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:29:43 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:29:43 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-10 00:29:43 INFO  c.g.l.i.AuthControllerIntegrationTest - Started AuthControllerIntegrationTest in 10.862 seconds (process running for 12.396)
2025-05-10 00:29:44 INFO  c.g.l.controller.AuthController - Login attempt for email: user@example.com
2025-05-10 00:29:44 INFO  c.g.l.controller.AuthController - Login attempt for email: user@example.com
2025-05-10 00:29:44 INFO  c.g.l.controller.AuthController - Authentication successful for email: user@example.com
2025-05-10 00:29:44 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:31:51 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-10 00:31:51 INFO  c.g.l.i.AuthControllerIntegrationTest - Starting AuthControllerIntegrationTest using Java 21.0.7 with PID 15968 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:31:51 INFO  c.g.l.i.AuthControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:31:53 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:31:53 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 270 ms. Found 3 JPA repository interfaces.
2025-05-10 00:31:53 INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-05-10 00:31:55 INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:6755c85c-e0e4-49d0-a902-b45cc91394a0;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-05-10 00:31:55 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:31:55 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-10 00:31:55 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:31:56 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:31:57 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:31:57 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:31:58 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-10 00:31:59 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:31:59 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@532f568e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@dd3586e, org.springframework.security.web.context.SecurityContextHolderFilter@285d33f3, org.springframework.security.web.header.HeaderWriterFilter@66a2bc61, org.springframework.web.filter.CorsFilter@605049be, org.springframework.security.web.authentication.logout.LogoutFilter@231e5af, com.getir.library_management_system.security.JwtAuthenticationFilter@47fb30ca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@425436b4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e47e1f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ae50044, org.springframework.security.web.access.ExceptionTranslationFilter@591ae3dd, org.springframework.security.web.access.intercept.AuthorizationFilter@1f1e4e04]
2025-05-10 00:32:00 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:32:00 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:32:00 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-10 00:32:00 INFO  c.g.l.i.AuthControllerIntegrationTest - Started AuthControllerIntegrationTest in 9.703 seconds (process running for 11.476)
2025-05-10 00:32:00 INFO  c.g.l.controller.AuthController - Login attempt for email: user@example.com
2025-05-10 00:32:00 WARN  c.g.l.controller.AuthController - Authentication failed for email: user@example.com
2025-05-10 00:32:01 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:42:44 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-10 00:42:44 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 16268 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:42:44 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:42:47 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:42:47 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 480 ms. Found 3 JPA repository interfaces.
2025-05-10 00:42:49 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:42:49 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-10 00:42:49 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:42:49 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:42:49 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-10 00:42:50 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@788ad2d
2025-05-10 00:42:50 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-10 00:42:53 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:42:53 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:42:54 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-10 00:42:56 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:42:57 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@35226893, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@315ed8ae, org.springframework.security.web.context.SecurityContextHolderFilter@17980aec, org.springframework.security.web.header.HeaderWriterFilter@1c2a8193, org.springframework.web.filter.CorsFilter@76be903a, org.springframework.security.web.authentication.logout.LogoutFilter@7ffcc2f6, com.getir.library_management_system.security.JwtAuthenticationFilter@233c5ef1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7332d5c9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@33e89ad3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40f80fd8, org.springframework.security.web.access.ExceptionTranslationFilter@7b208fb7, org.springframework.security.web.access.intercept.AuthorizationFilter@2d6d5956]
2025-05-10 00:42:59 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:42:59 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:42:59 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:42:59 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 16.014 seconds (process running for 23.268)
2025-05-10 00:42:59 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:43:00 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:43:00 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 116
2025-05-10 00:43:00 INFO  c.g.l.controller.BookController - Book created with ID: 116
2025-05-10 00:43:00 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:43:00 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-10 00:43:00 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-10 00:43:00 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:43:00 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 16268 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:43:00 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:43:01 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:43:01 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 3 JPA repository interfaces.
2025-05-10 00:43:01 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:43:01 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:43:01 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:43:01 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-05-10 00:43:01 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@10aab5c2
2025-05-10 00:43:01 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-05-10 00:43:01 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:43:01 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:43:02 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:43:02 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4e854194, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e7e8511, org.springframework.security.web.context.SecurityContextHolderFilter@15ec78fa, org.springframework.security.web.header.HeaderWriterFilter@32593fa, org.springframework.web.filter.CorsFilter@6b089dc9, org.springframework.security.web.authentication.logout.LogoutFilter@3da6e23, com.getir.library_management_system.security.JwtAuthenticationFilter@334dbdd1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f225659, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a92012a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5af65c0f, org.springframework.security.web.access.ExceptionTranslationFilter@757e197e, org.springframework.security.web.access.intercept.AuthorizationFilter@456a324]
2025-05-10 00:43:02 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:43:02 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:43:02 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:43:02 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 2.03 seconds (process running for 26.765)
2025-05-10 00:43:02 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:43:02 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:43:02 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 117
2025-05-10 00:43:02 INFO  c.g.l.controller.BookController - Book created with ID: 117
2025-05-10 00:43:02 INFO  c.g.l.controller.BookController - Fetching book details for ID: 117
2025-05-10 00:43:02 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 117
2025-05-10 00:43:02 INFO  c.g.l.service.impl.BookServiceImpl - Book found: Test Book
2025-05-10 00:43:02 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:43:02 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-05-10 00:43:02 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-05-10 00:43:03 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:43:03 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 16268 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:43:03 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:43:03 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:43:03 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-05-10 00:43:03 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:43:03 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:43:03 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:43:03 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-05-10 00:43:03 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@71aca5ee
2025-05-10 00:43:03 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-05-10 00:43:04 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:43:04 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:43:04 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:43:04 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c99143c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@441b9fd0, org.springframework.security.web.context.SecurityContextHolderFilter@2c733e01, org.springframework.security.web.header.HeaderWriterFilter@229e1eab, org.springframework.web.filter.CorsFilter@3094cc5a, org.springframework.security.web.authentication.logout.LogoutFilter@90e2e99, com.getir.library_management_system.security.JwtAuthenticationFilter@4e77095, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ff02d5c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e01bc04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@342249bf, org.springframework.security.web.access.ExceptionTranslationFilter@60143482, org.springframework.security.web.access.intercept.AuthorizationFilter@44b81156]
2025-05-10 00:43:05 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:43:05 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:43:05 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-10 00:43:05 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 1.86 seconds (process running for 29.078)
2025-05-10 00:43:05 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:43:05 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:43:05 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 118
2025-05-10 00:43:05 INFO  c.g.l.controller.BookController - Book created with ID: 118
2025-05-10 00:43:05 INFO  c.g.l.controller.BookController - Updating book with ID: 118
2025-05-10 00:43:05 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 118
2025-05-10 00:43:05 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 118
2025-05-10 00:43:05 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:43:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-05-10 00:43:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-05-10 00:43:05 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:43:05 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 16268 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:43:05 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:43:05 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:43:05 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
2025-05-10 00:43:06 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:43:06 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:43:06 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:43:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-05-10 00:43:06 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@759c1fe0
2025-05-10 00:43:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-05-10 00:43:06 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:43:06 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:43:06 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:43:06 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4a90bab1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@563806f1, org.springframework.security.web.context.SecurityContextHolderFilter@4a46307f, org.springframework.security.web.header.HeaderWriterFilter@5c0e01a5, org.springframework.web.filter.CorsFilter@62b02982, org.springframework.security.web.authentication.logout.LogoutFilter@5cf81993, com.getir.library_management_system.security.JwtAuthenticationFilter@54bc8c2b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47609dcc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b692b3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39fd2c8, org.springframework.security.web.access.ExceptionTranslationFilter@3a1edb76, org.springframework.security.web.access.intercept.AuthorizationFilter@5dc78135]
2025-05-10 00:43:07 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:43:07 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:43:07 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:43:07 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 1.736 seconds (process running for 31.245)
2025-05-10 00:43:07 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:43:07 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:43:07 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 119
2025-05-10 00:43:07 INFO  c.g.l.controller.BookController - Book created with ID: 119
2025-05-10 00:43:07 INFO  c.g.l.controller.BookController - Deleting book with ID: 119
2025-05-10 00:43:07 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 119
2025-05-10 00:43:07 INFO  c.g.l.service.impl.BookServiceImpl - Book deleted with ID: 119
2025-05-10 00:43:07 INFO  c.g.l.controller.BookController - Fetching book details for ID: 119
2025-05-10 00:43:07 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 119
2025-05-10 00:43:07 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 119
2025-05-10 00:43:07 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:43:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-05-10 00:43:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-05-10 00:43:07 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:43:07 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 16268 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:43:07 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:43:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:43:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-05-10 00:43:08 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:43:08 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:43:08 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:43:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-05-10 00:43:08 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@48b902c6
2025-05-10 00:43:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-05-10 00:43:08 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:43:08 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:43:08 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:43:09 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6bd3ada9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16ec0a0a, org.springframework.security.web.context.SecurityContextHolderFilter@48907eea, org.springframework.security.web.header.HeaderWriterFilter@9e45632, org.springframework.web.filter.CorsFilter@792eddff, org.springframework.security.web.authentication.logout.LogoutFilter@66436031, com.getir.library_management_system.security.JwtAuthenticationFilter@19698691, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10c85647, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@611bf6e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14963c1d, org.springframework.security.web.access.ExceptionTranslationFilter@4aeb9484, org.springframework.security.web.access.intercept.AuthorizationFilter@3f8a4bec]
2025-05-10 00:43:09 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:43:09 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:43:09 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-10 00:43:09 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 1.728 seconds (process running for 33.466)
2025-05-10 00:43:09 INFO  c.g.l.controller.BookController - Request to create a new book: Book 0
2025-05-10 00:43:09 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 0
2025-05-10 00:43:09 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 120
2025-05-10 00:43:09 INFO  c.g.l.controller.BookController - Book created with ID: 120
2025-05-10 00:43:09 INFO  c.g.l.controller.BookController - Request to create a new book: Book 1
2025-05-10 00:43:09 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 1
2025-05-10 00:43:09 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 121
2025-05-10 00:43:09 INFO  c.g.l.controller.BookController - Book created with ID: 121
2025-05-10 00:43:09 INFO  c.g.l.controller.BookController - Request to create a new book: Book 2
2025-05-10 00:43:09 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 2
2025-05-10 00:43:09 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 122
2025-05-10 00:43:09 INFO  c.g.l.controller.BookController - Book created with ID: 122
2025-05-10 00:43:09 INFO  c.g.l.controller.BookController - Request to create a new book: Book 3
2025-05-10 00:43:09 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 3
2025-05-10 00:43:09 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 123
2025-05-10 00:43:09 INFO  c.g.l.controller.BookController - Book created with ID: 123
2025-05-10 00:43:09 INFO  c.g.l.controller.BookController - Request to create a new book: Book 4
2025-05-10 00:43:09 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 4
2025-05-10 00:43:09 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 124
2025-05-10 00:43:09 INFO  c.g.l.controller.BookController - Book created with ID: 124
2025-05-10 00:43:09 INFO  c.g.l.controller.BookController - Searching books with keyword: 'Book', page: 0, size: 5
2025-05-10 00:43:09 INFO  c.g.l.service.impl.BookServiceImpl - Searching books with keyword: Book
2025-05-10 00:43:09 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:43:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-05-10 00:43:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-05-10 00:43:10 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.AuthControllerIntegrationTest]: AuthControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-10 00:43:10 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.AuthControllerIntegrationTest
2025-05-10 00:43:10 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:43:10 INFO  c.g.l.i.AuthControllerIntegrationTest - Starting AuthControllerIntegrationTest using Java 21.0.7 with PID 16268 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:43:10 INFO  c.g.l.i.AuthControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:43:10 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:43:10 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 3 JPA repository interfaces.
2025-05-10 00:43:10 INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-05-10 00:43:10 INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:550ce4e8-83c0-4e73-a7c1-d01e938ad6d1;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-05-10 00:43:11 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:43:11 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:43:11 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:43:11 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:43:12 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:43:12 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:43:12 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@79969186, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1f7594e3, org.springframework.security.web.context.SecurityContextHolderFilter@5e1a8a8a, org.springframework.security.web.header.HeaderWriterFilter@5caa9ab4, org.springframework.web.filter.CorsFilter@5d7d48ee, org.springframework.security.web.authentication.logout.LogoutFilter@1cff5f48, com.getir.library_management_system.security.JwtAuthenticationFilter@53e8d55, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e093811, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ecc8f98, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3227cd37, org.springframework.security.web.access.ExceptionTranslationFilter@650cb939, org.springframework.security.web.access.intercept.AuthorizationFilter@31abd3cd]
2025-05-10 00:43:12 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:43:12 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:43:12 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-10 00:43:12 INFO  c.g.l.i.AuthControllerIntegrationTest - Started AuthControllerIntegrationTest in 2.967 seconds (process running for 36.99)
2025-05-10 00:43:13 INFO  c.g.l.controller.AuthController - Login attempt for email: user@example.com
2025-05-10 00:43:13 WARN  c.g.l.controller.AuthController - Authentication failed for email: user@example.com
2025-05-10 00:43:13 INFO  c.g.l.controller.AuthController - Login attempt for email: user@example.com
2025-05-10 00:43:13 INFO  c.g.l.controller.AuthController - Authentication successful for email: user@example.com
2025-05-10 00:43:13 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 1
2025-05-10 00:43:13 INFO  c.g.l.service.impl.UserServiceImpl - User deleted successfully with ID: 1
2025-05-10 00:43:13 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 1
2025-05-10 00:43:13 INFO  c.g.l.service.impl.UserServiceImpl - User updated successfully with ID: 1
2025-05-10 00:43:13 INFO  c.g.l.service.impl.UserServiceImpl - Registering new user with email: john@example.com
2025-05-10 00:43:13 INFO  c.g.l.service.impl.UserServiceImpl - User registered successfully with ID: null
2025-05-10 00:43:13 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 1
2025-05-10 00:43:13 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 1
2025-05-10 00:43:13 WARN  c.g.l.service.impl.UserServiceImpl - User not found for deletion with ID: 1
2025-05-10 00:43:13 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 1
2025-05-10 00:43:13 WARN  c.g.l.service.impl.UserServiceImpl - User not found for update with ID: 1
2025-05-10 00:43:13 WARN  c.g.l.service.impl.UserServiceImpl - loadUserByUsername() not implemented. Username: any
2025-05-10 00:43:13 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 1
2025-05-10 00:43:13 WARN  c.g.l.service.impl.UserServiceImpl - User not found with ID: 1
2025-05-10 00:43:13 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.LibraryManagementSystemApplicationTests]: LibraryManagementSystemApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-10 00:43:13 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.LibraryManagementSystemApplicationTests
2025-05-10 00:43:13 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:43:13 INFO  c.g.l.LibraryManagementSystemApplicationTests - Starting LibraryManagementSystemApplicationTests using Java 21.0.7 with PID 16268 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:43:13 INFO  c.g.l.LibraryManagementSystemApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:43:14 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:43:14 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 3 JPA repository interfaces.
2025-05-10 00:43:14 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:43:14 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:43:14 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:43:14 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-05-10 00:43:14 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@350f35c6
2025-05-10 00:43:14 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-05-10 00:43:14 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:43:14 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:43:14 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:43:14 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6cb1e8d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@758f22b2, org.springframework.security.web.context.SecurityContextHolderFilter@39e19515, org.springframework.security.web.header.HeaderWriterFilter@76ded342, org.springframework.web.filter.CorsFilter@6313f066, org.springframework.security.web.authentication.logout.LogoutFilter@23674815, com.getir.library_management_system.security.JwtAuthenticationFilter@4e94452f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b1a0dbf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@165faba4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@52405841, org.springframework.security.web.access.ExceptionTranslationFilter@76541b1, org.springframework.security.web.access.intercept.AuthorizationFilter@23125e03]
2025-05-10 00:43:15 INFO  c.g.l.LibraryManagementSystemApplicationTests - Started LibraryManagementSystemApplicationTests in 1.553 seconds (process running for 39.311)
2025-05-10 00:43:16 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.BorrowingControllerIntegrationTest]: BorrowingControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-10 00:43:16 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.BorrowingControllerIntegrationTest
2025-05-10 00:43:16 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:43:16 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Starting BorrowingControllerIntegrationTest using Java 21.0.7 with PID 16268 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:43:16 INFO  c.g.l.i.BorrowingControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:43:16 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:43:16 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 3 JPA repository interfaces.
2025-05-10 00:43:16 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:43:16 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:43:16 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:43:16 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-05-10 00:43:16 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection org.postgresql.jdbc.PgConnection@4040f3db
2025-05-10 00:43:16 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-05-10 00:43:17 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:43:17 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:43:17 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:43:17 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4336d872, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15bf6671, org.springframework.security.web.context.SecurityContextHolderFilter@7ea01da0, org.springframework.security.web.header.HeaderWriterFilter@5f62c066, org.springframework.web.filter.CorsFilter@4e829252, org.springframework.security.web.authentication.logout.LogoutFilter@4a13898c, com.getir.library_management_system.security.JwtAuthenticationFilter@1b010e04, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d1d2d0f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d085192, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@700506bd, org.springframework.security.web.access.ExceptionTranslationFilter@2927244a, org.springframework.security.web.access.intercept.AuthorizationFilter@7159fc1b]
2025-05-10 00:43:17 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:43:17 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:43:17 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:43:17 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Started BorrowingControllerIntegrationTest in 1.601 seconds (process running for 41.959)
2025-05-10 00:43:18 INFO  c.g.l.controller.BorrowingController - Fetching borrowing history for user ID 30
2025-05-10 00:43:18 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching borrowing history for user ID: 30
2025-05-10 00:43:18 INFO  c.g.l.controller.BorrowingController - Fetching all borrowings (Librarian access)
2025-05-10 00:43:18 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching all borrowing records
2025-05-10 00:43:18 INFO  c.g.l.controller.BorrowingController - User 32 is attempting to borrow book with ID 127
2025-05-10 00:43:18 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 32 is attempting to borrow book 127
2025-05-10 00:43:18 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 127 marked as unavailable
2025-05-10 00:43:18 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing created with ID: 8
2025-05-10 00:43:18 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=127, title=Test Book, stock=4)
2025-05-10 00:43:18 INFO  c.g.l.controller.BorrowingController - Book borrowed successfully with borrowing ID 8
2025-05-10 00:43:18 INFO  c.g.l.controller.BorrowingController - Returning book for borrowing ID 8
2025-05-10 00:43:18 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 8
2025-05-10 00:43:18 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 127 marked as available
2025-05-10 00:43:18 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing 8 marked as returned
2025-05-10 00:43:18 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=127, title=Test Book, stock=5)
2025-05-10 00:43:18 INFO  c.g.l.controller.BorrowingController - Book returned successfully for borrowing ID 8
2025-05-10 00:43:18 INFO  c.g.l.controller.BorrowingController - Fetching overdue borrowings
2025-05-10 00:43:18 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching overdue borrowings
2025-05-10 00:43:18 INFO  c.g.l.controller.BorrowingController - Fetching detailed overdue book list
2025-05-10 00:43:18 INFO  c.g.l.s.impl.BorrowingServiceImpl - Checking for overdue books as of 2025-05-10
2025-05-10 00:43:18 INFO  c.g.l.controller.BorrowingController - Generating overdue book report
2025-05-10 00:43:19 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.UserControllerIntegrationTest]: UserControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-10 00:43:19 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.UserControllerIntegrationTest
2025-05-10 00:43:19 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:43:19 INFO  c.g.l.i.UserControllerIntegrationTest - Starting UserControllerIntegrationTest using Java 21.0.7 with PID 16268 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:43:19 INFO  c.g.l.i.UserControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:43:19 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:43:19 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 3 JPA repository interfaces.
2025-05-10 00:43:19 INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-05-10 00:43:19 INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:0da3a9ea-85c8-4322-914e-d4d14dd894ef;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-05-10 00:43:19 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:43:19 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:43:19 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:43:19 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:43:19 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:43:20 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:43:20 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@de4456, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1cd5ea5b, org.springframework.security.web.context.SecurityContextHolderFilter@71df8afc, org.springframework.security.web.header.HeaderWriterFilter@6dc0a51c, org.springframework.web.filter.CorsFilter@47e7972c, org.springframework.security.web.authentication.logout.LogoutFilter@6a1ed13f, com.getir.library_management_system.security.JwtAuthenticationFilter@584ad2f8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ded4452, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f1b93e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77bf2226, org.springframework.security.web.access.ExceptionTranslationFilter@70a256d1, org.springframework.security.web.access.intercept.AuthorizationFilter@3e01cd23]
2025-05-10 00:43:20 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:43:20 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:43:20 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-10 00:43:20 INFO  c.g.l.i.UserControllerIntegrationTest - Started UserControllerIntegrationTest in 1.789 seconds (process running for 44.949)
2025-05-10 00:43:20 INFO  c.g.l.controller.UserController - Registering new user with email: jane@example.com
2025-05-10 00:43:21 INFO  c.g.l.service.impl.UserServiceImpl - Registering new user with email: jane@example.com
2025-05-10 00:43:21 INFO  c.g.l.service.impl.UserServiceImpl - User registered successfully with ID: 2
2025-05-10 00:43:21 INFO  c.g.l.controller.UserController - User registered successfully with id: 2
2025-05-10 00:43:21 INFO  c.g.l.controller.UserController - Updating user with id: 3
2025-05-10 00:43:21 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 3
2025-05-10 00:43:21 INFO  c.g.l.service.impl.UserServiceImpl - User updated successfully with ID: 3
2025-05-10 00:43:22 WARN  c.g.l.controller.UserController - Deleting user with id: 4
2025-05-10 00:43:22 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 4
2025-05-10 00:43:22 INFO  c.g.l.service.impl.UserServiceImpl - User deleted successfully with ID: 4
2025-05-10 00:43:22 INFO  c.g.l.controller.UserController - Fetching user with id: 5
2025-05-10 00:43:22 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 5
2025-05-10 00:43:22 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Title
2025-05-10 00:43:22 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-10 00:43:22 INFO  c.g.l.service.impl.BookServiceImpl - Searching books with keyword: java
2025-05-10 00:43:22 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-10 00:43:22 WARN  c.g.l.service.impl.BookServiceImpl - Cannot delete. Book not found with ID: 1
2025-05-10 00:43:22 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-10 00:43:22 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-10 00:43:22 INFO  c.g.l.service.impl.BookServiceImpl - Book found: Sample
2025-05-10 00:43:22 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-10 00:43:22 INFO  c.g.l.service.impl.BookServiceImpl - Book deleted with ID: 1
2025-05-10 00:43:22 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-10 00:43:22 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 1
2025-05-10 00:43:22 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-10 00:43:22 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-10 00:43:22 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-10 00:43:22 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-10 00:43:22 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: john@example.com
2025-05-10 00:43:22 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: john@example.com
2025-05-10 00:43:22 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: notfound@example.com
2025-05-10 00:43:22 WARN  c.g.l.s.CustomUserDetailsService - User not found with email: notfound@example.com
2025-05-10 00:43:22 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:43:22 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:43:22 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-05-10 00:43:22 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-05-10 00:43:22 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:43:22 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-05-10 00:43:22 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-05-10 00:43:22 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:08 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-05-10 00:49:08 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 16522 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:49:08 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:49:10 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:49:11 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 479 ms. Found 3 JPA repository interfaces.
2025-05-10 00:49:13 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:49:13 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-10 00:49:13 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:49:13 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:49:13 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-10 00:49:14 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@34bd20ba
2025-05-10 00:49:14 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-10 00:49:16 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:49:17 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:18 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-10 00:49:20 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:49:21 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@29c4a021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@265d3085, org.springframework.security.web.context.SecurityContextHolderFilter@22946724, org.springframework.security.web.header.HeaderWriterFilter@51762cd5, org.springframework.web.filter.CorsFilter@f3ead34, org.springframework.security.web.authentication.logout.LogoutFilter@763f16b5, com.getir.library_management_system.security.JwtAuthenticationFilter@5ae5ef9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@646e04c9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@737542f6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b7b25a4, org.springframework.security.web.access.ExceptionTranslationFilter@7e257388, org.springframework.security.web.access.intercept.AuthorizationFilter@584afb9f]
2025-05-10 00:49:23 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:49:23 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:49:23 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:49:23 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 16.158 seconds (process running for 23.345)
2025-05-10 00:49:23 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:49:24 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:49:24 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 129
2025-05-10 00:49:24 INFO  c.g.l.controller.BookController - Book created with ID: 129
2025-05-10 00:49:24 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:24 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-10 00:49:24 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-10 00:49:24 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:49:24 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 16522 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:49:24 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:49:25 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:49:25 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 3 JPA repository interfaces.
2025-05-10 00:49:25 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:49:25 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:49:25 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:49:25 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-05-10 00:49:25 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@24e35bf1
2025-05-10 00:49:25 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-05-10 00:49:25 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:49:25 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:26 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:49:26 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@757e197e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@32593fa, org.springframework.security.web.context.SecurityContextHolderFilter@6eb45b30, org.springframework.security.web.header.HeaderWriterFilter@6bddc9a5, org.springframework.web.filter.CorsFilter@15ec78fa, org.springframework.security.web.authentication.logout.LogoutFilter@7f612992, com.getir.library_management_system.security.JwtAuthenticationFilter@621a6999, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41ccbe00, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3655ee8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f225659, org.springframework.security.web.access.ExceptionTranslationFilter@26da3680, org.springframework.security.web.access.intercept.AuthorizationFilter@424118b6]
2025-05-10 00:49:26 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:49:26 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:49:26 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:49:26 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 2.145 seconds (process running for 26.889)
2025-05-10 00:49:26 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:49:26 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:49:26 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 130
2025-05-10 00:49:26 INFO  c.g.l.controller.BookController - Book created with ID: 130
2025-05-10 00:49:26 INFO  c.g.l.controller.BookController - Fetching book details for ID: 130
2025-05-10 00:49:26 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 130
2025-05-10 00:49:26 INFO  c.g.l.service.impl.BookServiceImpl - Book found: Test Book
2025-05-10 00:49:27 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:27 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-05-10 00:49:27 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-05-10 00:49:27 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:49:27 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 16522 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:49:27 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:49:27 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:49:27 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-05-10 00:49:27 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:49:27 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:49:27 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:49:27 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-05-10 00:49:27 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@789f24da
2025-05-10 00:49:27 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-05-10 00:49:28 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:49:28 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:28 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:49:28 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@60143482, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@229e1eab, org.springframework.security.web.context.SecurityContextHolderFilter@10ae54d2, org.springframework.security.web.header.HeaderWriterFilter@7cf73726, org.springframework.web.filter.CorsFilter@2c733e01, org.springframework.security.web.authentication.logout.LogoutFilter@307e56d5, com.getir.library_management_system.security.JwtAuthenticationFilter@4e919b8e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ca868fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@179fcb53, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ff02d5c, org.springframework.security.web.access.ExceptionTranslationFilter@725d3e24, org.springframework.security.web.access.intercept.AuthorizationFilter@1672be45]
2025-05-10 00:49:29 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:49:29 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:49:29 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-10 00:49:29 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 1.844 seconds (process running for 29.181)
2025-05-10 00:49:29 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:49:29 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:49:29 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 131
2025-05-10 00:49:29 INFO  c.g.l.controller.BookController - Book created with ID: 131
2025-05-10 00:49:29 INFO  c.g.l.controller.BookController - Updating book with ID: 131
2025-05-10 00:49:29 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 131
2025-05-10 00:49:29 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 131
2025-05-10 00:49:29 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:29 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-05-10 00:49:29 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-05-10 00:49:29 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:49:29 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 16522 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:49:29 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:49:29 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:49:29 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-05-10 00:49:30 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:49:30 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:49:30 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:49:30 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-05-10 00:49:30 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@5e8fcdd1
2025-05-10 00:49:30 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-05-10 00:49:30 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:49:30 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:30 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:49:30 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4a46307f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47609dcc, org.springframework.security.web.context.SecurityContextHolderFilter@45747fab, org.springframework.security.web.header.HeaderWriterFilter@1cd97b52, org.springframework.web.filter.CorsFilter@b692b3d, org.springframework.security.web.authentication.logout.LogoutFilter@8d0bf64, com.getir.library_management_system.security.JwtAuthenticationFilter@793917ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12740101, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@396bf3bb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@27c600dc, org.springframework.security.web.access.ExceptionTranslationFilter@2591c4b0, org.springframework.security.web.access.intercept.AuthorizationFilter@5c0e01a5]
2025-05-10 00:49:31 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:49:31 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:49:31 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-10 00:49:31 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 1.808 seconds (process running for 31.397)
2025-05-10 00:49:31 INFO  c.g.l.controller.BookController - Request to create a new book: Test Book
2025-05-10 00:49:31 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Test Book
2025-05-10 00:49:31 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 132
2025-05-10 00:49:31 INFO  c.g.l.controller.BookController - Book created with ID: 132
2025-05-10 00:49:31 INFO  c.g.l.controller.BookController - Deleting book with ID: 132
2025-05-10 00:49:31 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 132
2025-05-10 00:49:31 INFO  c.g.l.service.impl.BookServiceImpl - Book deleted with ID: 132
2025-05-10 00:49:31 INFO  c.g.l.controller.BookController - Fetching book details for ID: 132
2025-05-10 00:49:31 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 132
2025-05-10 00:49:31 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 132
2025-05-10 00:49:31 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:31 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-05-10 00:49:31 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-05-10 00:49:31 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:49:31 INFO  c.g.l.i.BookControllerIntegrationTest - Starting BookControllerIntegrationTest using Java 21.0.7 with PID 16522 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:49:31 INFO  c.g.l.i.BookControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:49:32 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:49:32 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-05-10 00:49:32 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:49:32 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:49:32 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:49:32 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-05-10 00:49:32 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@7f6cb03a
2025-05-10 00:49:32 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-05-10 00:49:32 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:49:32 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:33 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:49:33 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@9e45632, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48907eea, org.springframework.security.web.context.SecurityContextHolderFilter@525faaa0, org.springframework.security.web.header.HeaderWriterFilter@3088263b, org.springframework.web.filter.CorsFilter@10c85647, org.springframework.security.web.authentication.logout.LogoutFilter@73565c78, com.getir.library_management_system.security.JwtAuthenticationFilter@1c37799c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7617e09c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2dbbb58e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@611bf6e, org.springframework.security.web.access.ExceptionTranslationFilter@59905cec, org.springframework.security.web.access.intercept.AuthorizationFilter@4aeb9484]
2025-05-10 00:49:33 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:49:33 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:49:33 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:49:33 INFO  c.g.l.i.BookControllerIntegrationTest - Started BookControllerIntegrationTest in 1.736 seconds (process running for 33.618)
2025-05-10 00:49:33 INFO  c.g.l.controller.BookController - Request to create a new book: Book 0
2025-05-10 00:49:33 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 0
2025-05-10 00:49:33 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 133
2025-05-10 00:49:33 INFO  c.g.l.controller.BookController - Book created with ID: 133
2025-05-10 00:49:33 INFO  c.g.l.controller.BookController - Request to create a new book: Book 1
2025-05-10 00:49:33 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 1
2025-05-10 00:49:33 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 134
2025-05-10 00:49:33 INFO  c.g.l.controller.BookController - Book created with ID: 134
2025-05-10 00:49:33 INFO  c.g.l.controller.BookController - Request to create a new book: Book 2
2025-05-10 00:49:33 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 2
2025-05-10 00:49:33 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 135
2025-05-10 00:49:33 INFO  c.g.l.controller.BookController - Book created with ID: 135
2025-05-10 00:49:33 INFO  c.g.l.controller.BookController - Request to create a new book: Book 3
2025-05-10 00:49:33 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 3
2025-05-10 00:49:33 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 136
2025-05-10 00:49:33 INFO  c.g.l.controller.BookController - Book created with ID: 136
2025-05-10 00:49:33 INFO  c.g.l.controller.BookController - Request to create a new book: Book 4
2025-05-10 00:49:33 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Book 4
2025-05-10 00:49:33 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 137
2025-05-10 00:49:33 INFO  c.g.l.controller.BookController - Book created with ID: 137
2025-05-10 00:49:33 INFO  c.g.l.controller.BookController - Searching books with keyword: 'Book', page: 0, size: 5
2025-05-10 00:49:33 INFO  c.g.l.service.impl.BookServiceImpl - Searching books with keyword: Book
2025-05-10 00:49:33 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:33 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-05-10 00:49:33 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-05-10 00:49:34 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.AuthControllerIntegrationTest]: AuthControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-10 00:49:34 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.AuthControllerIntegrationTest
2025-05-10 00:49:34 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:49:34 INFO  c.g.l.i.AuthControllerIntegrationTest - Starting AuthControllerIntegrationTest using Java 21.0.7 with PID 16522 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:49:34 INFO  c.g.l.i.AuthControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:49:34 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:49:34 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
2025-05-10 00:49:34 INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-05-10 00:49:34 INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:db1927b6-cbbc-4045-a098-1e579e992754;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-05-10 00:49:35 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:49:35 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:49:35 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:49:36 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:49:36 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:36 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:49:36 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ecc8f98, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16bbc9cf, org.springframework.security.web.context.SecurityContextHolderFilter@631b509c, org.springframework.security.web.header.HeaderWriterFilter@1734219a, org.springframework.web.filter.CorsFilter@1cff5f48, org.springframework.security.web.authentication.logout.LogoutFilter@5caa9ab4, com.getir.library_management_system.security.JwtAuthenticationFilter@2dc5a488, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73fe3982, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53826a22, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b612576, org.springframework.security.web.access.ExceptionTranslationFilter@1356715e, org.springframework.security.web.access.intercept.AuthorizationFilter@1e093811]
2025-05-10 00:49:37 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:49:37 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:49:37 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-05-10 00:49:37 INFO  c.g.l.i.AuthControllerIntegrationTest - Started AuthControllerIntegrationTest in 3.077 seconds (process running for 37.241)
2025-05-10 00:49:37 INFO  c.g.l.controller.AuthController - Login attempt for email: user@example.com
2025-05-10 00:49:37 WARN  c.g.l.controller.AuthController - Authentication failed for email: user@example.com
2025-05-10 00:49:37 INFO  c.g.l.controller.AuthController - Login attempt for email: user@example.com
2025-05-10 00:49:37 INFO  c.g.l.controller.AuthController - Authentication successful for email: user@example.com
2025-05-10 00:49:37 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 1
2025-05-10 00:49:37 INFO  c.g.l.service.impl.UserServiceImpl - User deleted successfully with ID: 1
2025-05-10 00:49:37 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 1
2025-05-10 00:49:37 INFO  c.g.l.service.impl.UserServiceImpl - User updated successfully with ID: 1
2025-05-10 00:49:37 INFO  c.g.l.service.impl.UserServiceImpl - Registering new user with email: john@example.com
2025-05-10 00:49:37 INFO  c.g.l.service.impl.UserServiceImpl - User registered successfully with ID: null
2025-05-10 00:49:37 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 1
2025-05-10 00:49:37 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 1
2025-05-10 00:49:37 WARN  c.g.l.service.impl.UserServiceImpl - User not found for deletion with ID: 1
2025-05-10 00:49:37 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 1
2025-05-10 00:49:37 WARN  c.g.l.service.impl.UserServiceImpl - User not found for update with ID: 1
2025-05-10 00:49:37 WARN  c.g.l.service.impl.UserServiceImpl - loadUserByUsername() not implemented. Username: any
2025-05-10 00:49:37 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 1
2025-05-10 00:49:37 WARN  c.g.l.service.impl.UserServiceImpl - User not found with ID: 1
2025-05-10 00:49:38 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=1, title=Sample Title, stock=5)
2025-05-10 00:49:38 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.LibraryManagementSystemApplicationTests]: LibraryManagementSystemApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-10 00:49:38 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.LibraryManagementSystemApplicationTests
2025-05-10 00:49:38 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:49:38 INFO  c.g.l.LibraryManagementSystemApplicationTests - Starting LibraryManagementSystemApplicationTests using Java 21.0.7 with PID 16522 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:49:38 INFO  c.g.l.LibraryManagementSystemApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:49:38 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:49:38 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 3 JPA repository interfaces.
2025-05-10 00:49:38 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:49:38 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:49:38 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:49:38 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-05-10 00:49:38 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@278a53d4
2025-05-10 00:49:38 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-05-10 00:49:38 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:49:38 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:39 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:49:39 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@589d18b0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e4d4a87, org.springframework.security.web.context.SecurityContextHolderFilter@5a5c956d, org.springframework.security.web.header.HeaderWriterFilter@7915a49, org.springframework.web.filter.CorsFilter@465a00c5, org.springframework.security.web.authentication.logout.LogoutFilter@2a2d877b, com.getir.library_management_system.security.JwtAuthenticationFilter@16dff20c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2205e350, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19aacd09, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3bfedc65, org.springframework.security.web.access.ExceptionTranslationFilter@332116b7, org.springframework.security.web.access.intercept.AuthorizationFilter@68b2ad76]
2025-05-10 00:49:39 INFO  c.g.l.LibraryManagementSystemApplicationTests - Started LibraryManagementSystemApplicationTests in 1.53 seconds (process running for 39.618)
2025-05-10 00:49:40 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.BorrowingControllerIntegrationTest]: BorrowingControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-10 00:49:40 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.BorrowingControllerIntegrationTest
2025-05-10 00:49:40 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:49:40 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Starting BorrowingControllerIntegrationTest using Java 21.0.7 with PID 16522 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:49:40 INFO  c.g.l.i.BorrowingControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:49:40 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:49:40 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
2025-05-10 00:49:41 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:49:41 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:49:41 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:49:41 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-05-10 00:49:41 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection org.postgresql.jdbc.PgConnection@43f4b467
2025-05-10 00:49:41 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-05-10 00:49:41 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:49:41 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:41 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:49:41 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58e77b0c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3776f26b, org.springframework.security.web.context.SecurityContextHolderFilter@23f1a0fc, org.springframework.security.web.header.HeaderWriterFilter@6d9e1acd, org.springframework.web.filter.CorsFilter@10af8674, org.springframework.security.web.authentication.logout.LogoutFilter@395ac487, com.getir.library_management_system.security.JwtAuthenticationFilter@40dfda14, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2edf6120, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ad75b3e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72cdc046, org.springframework.security.web.access.ExceptionTranslationFilter@1136b346, org.springframework.security.web.access.intercept.AuthorizationFilter@5c67dce3]
2025-05-10 00:49:42 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:49:42 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:49:42 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-10 00:49:42 INFO  c.g.l.i.BorrowingControllerIntegrationTest - Started BorrowingControllerIntegrationTest in 1.645 seconds (process running for 42.211)
2025-05-10 00:49:42 INFO  c.g.l.controller.BorrowingController - Fetching borrowing history for user ID 34
2025-05-10 00:49:42 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching borrowing history for user ID: 34
2025-05-10 00:49:42 INFO  c.g.l.controller.BorrowingController - Fetching all borrowings (Librarian access)
2025-05-10 00:49:42 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching all borrowing records
2025-05-10 00:49:42 INFO  c.g.l.controller.BorrowingController - User 36 is attempting to borrow book with ID 140
2025-05-10 00:49:42 INFO  c.g.l.s.impl.BorrowingServiceImpl - User 36 is attempting to borrow book 140
2025-05-10 00:49:42 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 140 marked as unavailable
2025-05-10 00:49:42 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing created with ID: 9
2025-05-10 00:49:42 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=140, title=Test Book, stock=4)
2025-05-10 00:49:42 INFO  c.g.l.controller.BorrowingController - Book borrowed successfully with borrowing ID 9
2025-05-10 00:49:42 INFO  c.g.l.controller.BorrowingController - Returning book for borrowing ID 9
2025-05-10 00:49:42 INFO  c.g.l.s.impl.BorrowingServiceImpl - Returning book for borrowing ID: 9
2025-05-10 00:49:42 INFO  c.g.l.s.impl.BorrowingServiceImpl - Book 140 marked as available
2025-05-10 00:49:42 INFO  c.g.l.s.impl.BorrowingServiceImpl - Borrowing 9 marked as returned
2025-05-10 00:49:42 INFO  c.g.l.reactive.BookStockPublisher - Publishing stock update: BookStockUpdate(bookId=140, title=Test Book, stock=5)
2025-05-10 00:49:42 INFO  c.g.l.controller.BorrowingController - Book returned successfully for borrowing ID 9
2025-05-10 00:49:43 INFO  c.g.l.controller.BorrowingController - Fetching overdue borrowings
2025-05-10 00:49:43 INFO  c.g.l.s.impl.BorrowingServiceImpl - Fetching overdue borrowings
2025-05-10 00:49:43 INFO  c.g.l.controller.BorrowingController - Fetching detailed overdue book list
2025-05-10 00:49:43 INFO  c.g.l.s.impl.BorrowingServiceImpl - Checking for overdue books as of 2025-05-10
2025-05-10 00:49:43 INFO  c.g.l.controller.BorrowingController - Generating overdue book report
2025-05-10 00:49:43 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.getir.library_management_system.integration.UserControllerIntegrationTest]: UserControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-10 00:49:43 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.getir.library_management_system.LibraryManagementSystemApplication for test class com.getir.library_management_system.integration.UserControllerIntegrationTest
2025-05-10 00:49:43 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-05-10 00:49:43 INFO  c.g.l.i.UserControllerIntegrationTest - Starting UserControllerIntegrationTest using Java 21.0.7 with PID 16522 (started by bahajyy in /Users/bahajyy/Desktop/getir_final_project)
2025-05-10 00:49:43 INFO  c.g.l.i.UserControllerIntegrationTest - No active profile set, falling back to 1 default profile: "default"
2025-05-10 00:49:43 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-10 00:49:43 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 3 JPA repository interfaces.
2025-05-10 00:49:43 INFO  o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor - Replacing 'dataSource' DataSource bean with embedded version
2025-05-10 00:49:43 INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:d2152f7f-324f-46ff-9cf4-705293b6375e;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-05-10 00:49:43 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-10 00:49:43 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-10 00:49:43 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-10 00:49:43 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-10 00:49:44 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:44 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-10 00:49:44 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5829d8ea, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75a419d8, org.springframework.security.web.context.SecurityContextHolderFilter@34480fb6, org.springframework.security.web.header.HeaderWriterFilter@a00d834, org.springframework.web.filter.CorsFilter@1beb8ba8, org.springframework.security.web.authentication.logout.LogoutFilter@3d32124d, com.getir.library_management_system.security.JwtAuthenticationFilter@3e3eeed3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51daacde, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@453e3081, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@354673cc, org.springframework.security.web.access.ExceptionTranslationFilter@17407602, org.springframework.security.web.access.intercept.AuthorizationFilter@d0460f1]
2025-05-10 00:49:44 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-05-10 00:49:44 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-05-10 00:49:44 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-05-10 00:49:44 INFO  c.g.l.i.UserControllerIntegrationTest - Started UserControllerIntegrationTest in 1.472 seconds (process running for 44.881)
2025-05-10 00:49:44 INFO  c.g.l.controller.UserController - Registering new user with email: jane@example.com
2025-05-10 00:49:44 INFO  c.g.l.service.impl.UserServiceImpl - Registering new user with email: jane@example.com
2025-05-10 00:49:45 INFO  c.g.l.service.impl.UserServiceImpl - User registered successfully with ID: 2
2025-05-10 00:49:45 INFO  c.g.l.controller.UserController - User registered successfully with id: 2
2025-05-10 00:49:45 INFO  c.g.l.controller.UserController - Updating user with id: 3
2025-05-10 00:49:45 INFO  c.g.l.service.impl.UserServiceImpl - Updating user with ID: 3
2025-05-10 00:49:45 INFO  c.g.l.service.impl.UserServiceImpl - User updated successfully with ID: 3
2025-05-10 00:49:45 WARN  c.g.l.controller.UserController - Deleting user with id: 4
2025-05-10 00:49:45 INFO  c.g.l.service.impl.UserServiceImpl - Deleting user with ID: 4
2025-05-10 00:49:45 INFO  c.g.l.service.impl.UserServiceImpl - User deleted successfully with ID: 4
2025-05-10 00:49:46 INFO  c.g.l.controller.UserController - Fetching user with id: 5
2025-05-10 00:49:46 INFO  c.g.l.service.impl.UserServiceImpl - Fetching user with ID: 5
2025-05-10 00:49:46 INFO  c.g.l.service.impl.BookServiceImpl - Creating a new book with title: Title
2025-05-10 00:49:46 INFO  c.g.l.service.impl.BookServiceImpl - Book created with ID: 1
2025-05-10 00:49:46 INFO  c.g.l.service.impl.BookServiceImpl - Searching books with keyword: java
2025-05-10 00:49:46 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-10 00:49:46 WARN  c.g.l.service.impl.BookServiceImpl - Cannot delete. Book not found with ID: 1
2025-05-10 00:49:46 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-10 00:49:46 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-10 00:49:46 INFO  c.g.l.service.impl.BookServiceImpl - Book found: Sample
2025-05-10 00:49:46 INFO  c.g.l.service.impl.BookServiceImpl - Deleting book with ID: 1
2025-05-10 00:49:46 INFO  c.g.l.service.impl.BookServiceImpl - Book deleted with ID: 1
2025-05-10 00:49:46 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-10 00:49:46 INFO  c.g.l.service.impl.BookServiceImpl - Book updated with ID: 1
2025-05-10 00:49:46 INFO  c.g.l.service.impl.BookServiceImpl - Fetching book with ID: 1
2025-05-10 00:49:46 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-10 00:49:46 INFO  c.g.l.service.impl.BookServiceImpl - Updating book with ID: 1
2025-05-10 00:49:46 WARN  c.g.l.service.impl.BookServiceImpl - Book not found with ID: 1
2025-05-10 00:49:46 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: john@example.com
2025-05-10 00:49:46 INFO  c.g.l.s.CustomUserDetailsService - Successfully loaded user with email: john@example.com
2025-05-10 00:49:46 INFO  c.g.l.s.CustomUserDetailsService - Attempting to load user with email: notfound@example.com
2025-05-10 00:49:46 WARN  c.g.l.s.CustomUserDetailsService - User not found with email: notfound@example.com
2025-05-10 00:49:46 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:46 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:46 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-05-10 00:49:46 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-05-10 00:49:46 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-10 00:49:46 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-05-10 00:49:46 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-05-10 00:49:46 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
